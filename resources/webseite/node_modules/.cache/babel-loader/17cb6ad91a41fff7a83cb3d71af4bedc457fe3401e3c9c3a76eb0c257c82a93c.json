{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/esnext.iterator.constructor.js\");\nrequire(\"core-js/modules/esnext.iterator.filter.js\");\nrequire(\"core-js/modules/web.dom-exception.stack.js\");\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.GLightbox = factory());\n})(this, function () {\n  'use strict';\n\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _typeof(o) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n      return typeof o;\n    } : function (o) {\n      return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, _typeof(o);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  var uid = Date.now();\n  function extend() {\n    var extended = {};\n    var deep = true;\n    var i = 0;\n    var length = arguments.length;\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n      deep = arguments[0];\n      i++;\n    }\n    var merge = function merge(obj) {\n      for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n            extended[prop] = extend(true, extended[prop], obj[prop]);\n          } else {\n            extended[prop] = obj[prop];\n          }\n        }\n      }\n    };\n    for (; i < length; i++) {\n      var obj = arguments[i];\n      merge(obj);\n    }\n    return extended;\n  }\n  function each(collection, callback) {\n    if (isNode(collection) || collection === window || collection === document) {\n      collection = [collection];\n    }\n    if (!isArrayLike(collection) && !isObject(collection)) {\n      collection = [collection];\n    }\n    if (size(collection) == 0) {\n      return;\n    }\n    if (isArrayLike(collection) && !isObject(collection)) {\n      var l = collection.length,\n        i = 0;\n      for (; i < l; i++) {\n        if (callback.call(collection[i], collection[i], i, collection) === false) {\n          break;\n        }\n      }\n    } else if (isObject(collection)) {\n      for (var key in collection) {\n        if (has(collection, key)) {\n          if (callback.call(collection[key], collection[key], key, collection) === false) {\n            break;\n          }\n        }\n      }\n    }\n  }\n  function getNodeEvents(node) {\n    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var fn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var cache = node[uid] = node[uid] || [];\n    var data = {\n      all: cache,\n      evt: null,\n      found: null\n    };\n    if (name && fn && size(cache) > 0) {\n      each(cache, function (cl, i) {\n        if (cl.eventName == name && cl.fn.toString() == fn.toString()) {\n          data.found = true;\n          data.evt = i;\n          return false;\n        }\n      });\n    }\n    return data;\n  }\n  function addEvent(eventName) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      onElement = _ref.onElement,\n      withCallback = _ref.withCallback,\n      _ref$avoidDuplicate = _ref.avoidDuplicate,\n      avoidDuplicate = _ref$avoidDuplicate === void 0 ? true : _ref$avoidDuplicate,\n      _ref$once = _ref.once,\n      once = _ref$once === void 0 ? false : _ref$once,\n      _ref$useCapture = _ref.useCapture,\n      useCapture = _ref$useCapture === void 0 ? false : _ref$useCapture;\n    var thisArg = arguments.length > 2 ? arguments[2] : undefined;\n    var element = onElement || [];\n    if (isString(element)) {\n      element = document.querySelectorAll(element);\n    }\n    function handler(event) {\n      if (isFunction(withCallback)) {\n        withCallback.call(thisArg, event, this);\n      }\n      if (once) {\n        handler.destroy();\n      }\n    }\n    handler.destroy = function () {\n      each(element, function (el) {\n        var events = getNodeEvents(el, eventName, handler);\n        if (events.found) {\n          events.all.splice(events.evt, 1);\n        }\n        if (el.removeEventListener) {\n          el.removeEventListener(eventName, handler, useCapture);\n        }\n      });\n    };\n    each(element, function (el) {\n      var events = getNodeEvents(el, eventName, handler);\n      if (el.addEventListener && avoidDuplicate && !events.found || !avoidDuplicate) {\n        el.addEventListener(eventName, handler, useCapture);\n        events.all.push({\n          eventName: eventName,\n          fn: handler\n        });\n      }\n    });\n    return handler;\n  }\n  function addClass(node, name) {\n    each(name.split(' '), function (cl) {\n      return node.classList.add(cl);\n    });\n  }\n  function removeClass(node, name) {\n    each(name.split(' '), function (cl) {\n      return node.classList.remove(cl);\n    });\n  }\n  function hasClass(node, name) {\n    return node.classList.contains(name);\n  }\n  function closest(elem, selector) {\n    while (elem !== document.body) {\n      elem = elem.parentElement;\n      if (!elem) {\n        return false;\n      }\n      var matches = typeof elem.matches == 'function' ? elem.matches(selector) : elem.msMatchesSelector(selector);\n      if (matches) {\n        return elem;\n      }\n    }\n  }\n  function animateElement(element) {\n    var animation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (!element || animation === '') {\n      return false;\n    }\n    if (animation === 'none') {\n      if (isFunction(callback)) {\n        callback();\n      }\n      return false;\n    }\n    var animationEnd = whichAnimationEvent();\n    var animationNames = animation.split(' ');\n    each(animationNames, function (name) {\n      addClass(element, 'g' + name);\n    });\n    addEvent(animationEnd, {\n      onElement: element,\n      avoidDuplicate: false,\n      once: true,\n      withCallback: function withCallback(event, target) {\n        each(animationNames, function (name) {\n          removeClass(target, 'g' + name);\n        });\n        if (isFunction(callback)) {\n          callback();\n        }\n      }\n    });\n  }\n  function cssTransform(node) {\n    var translate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    if (translate === '') {\n      node.style.webkitTransform = '';\n      node.style.MozTransform = '';\n      node.style.msTransform = '';\n      node.style.OTransform = '';\n      node.style.transform = '';\n      return false;\n    }\n    node.style.webkitTransform = translate;\n    node.style.MozTransform = translate;\n    node.style.msTransform = translate;\n    node.style.OTransform = translate;\n    node.style.transform = translate;\n  }\n  function show(element) {\n    element.style.display = 'block';\n  }\n  function hide(element) {\n    element.style.display = 'none';\n  }\n  function createHTML(htmlStr) {\n    var frag = document.createDocumentFragment(),\n      temp = document.createElement('div');\n    temp.innerHTML = htmlStr;\n    while (temp.firstChild) {\n      frag.appendChild(temp.firstChild);\n    }\n    return frag;\n  }\n  function windowSize() {\n    return {\n      width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n      height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n    };\n  }\n  function whichAnimationEvent() {\n    var t,\n      el = document.createElement('fakeelement');\n    var animations = {\n      animation: 'animationend',\n      OAnimation: 'oAnimationEnd',\n      MozAnimation: 'animationend',\n      WebkitAnimation: 'webkitAnimationEnd'\n    };\n    for (t in animations) {\n      if (el.style[t] !== undefined) {\n        return animations[t];\n      }\n    }\n  }\n  function whichTransitionEvent() {\n    var t,\n      el = document.createElement('fakeelement');\n    var transitions = {\n      transition: 'transitionend',\n      OTransition: 'oTransitionEnd',\n      MozTransition: 'transitionend',\n      WebkitTransition: 'webkitTransitionEnd'\n    };\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n  }\n  function createIframe(config) {\n    var url = config.url,\n      allow = config.allow,\n      callback = config.callback,\n      appendTo = config.appendTo;\n    var iframe = document.createElement('iframe');\n    iframe.className = 'vimeo-video gvideo';\n    iframe.src = url;\n    iframe.style.width = '100%';\n    iframe.style.height = '100%';\n    if (allow) {\n      iframe.setAttribute('allow', allow);\n    }\n    iframe.onload = function () {\n      iframe.onload = null;\n      addClass(iframe, 'node-ready');\n      if (isFunction(callback)) {\n        callback();\n      }\n    };\n    if (appendTo) {\n      appendTo.appendChild(iframe);\n    }\n    return iframe;\n  }\n  function waitUntil(check, onComplete, delay, timeout) {\n    if (check()) {\n      onComplete();\n      return;\n    }\n    if (!delay) {\n      delay = 100;\n    }\n    var timeoutPointer;\n    var intervalPointer = setInterval(function () {\n      if (!check()) {\n        return;\n      }\n      clearInterval(intervalPointer);\n      if (timeoutPointer) {\n        clearTimeout(timeoutPointer);\n      }\n      onComplete();\n    }, delay);\n    if (timeout) {\n      timeoutPointer = setTimeout(function () {\n        clearInterval(intervalPointer);\n      }, timeout);\n    }\n  }\n  function injectAssets(url, waitFor, callback) {\n    if (isNil(url)) {\n      console.error('Inject assets error');\n      return;\n    }\n    if (isFunction(waitFor)) {\n      callback = waitFor;\n      waitFor = false;\n    }\n    if (isString(waitFor) && waitFor in window) {\n      if (isFunction(callback)) {\n        callback();\n      }\n      return;\n    }\n    var found;\n    if (url.indexOf('.css') !== -1) {\n      found = document.querySelectorAll('link[href=\"' + url + '\"]');\n      if (found && found.length > 0) {\n        if (isFunction(callback)) {\n          callback();\n        }\n        return;\n      }\n      var head = document.getElementsByTagName('head')[0];\n      var headStyles = head.querySelectorAll('link[rel=\"stylesheet\"]');\n      var link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.href = url;\n      link.media = 'all';\n      if (headStyles) {\n        head.insertBefore(link, headStyles[0]);\n      } else {\n        head.appendChild(link);\n      }\n      if (isFunction(callback)) {\n        callback();\n      }\n      return;\n    }\n    found = document.querySelectorAll('script[src=\"' + url + '\"]');\n    if (found && found.length > 0) {\n      if (isFunction(callback)) {\n        if (isString(waitFor)) {\n          waitUntil(function () {\n            return typeof window[waitFor] !== 'undefined';\n          }, function () {\n            callback();\n          });\n          return false;\n        }\n        callback();\n      }\n      return;\n    }\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.onload = function () {\n      if (isFunction(callback)) {\n        if (isString(waitFor)) {\n          waitUntil(function () {\n            return typeof window[waitFor] !== 'undefined';\n          }, function () {\n            callback();\n          });\n          return false;\n        }\n        callback();\n      }\n    };\n    document.body.appendChild(script);\n  }\n  function isMobile() {\n    return 'navigator' in window && window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i);\n  }\n  function isTouch() {\n    return isMobile() !== null || document.createTouch !== undefined || 'ontouchstart' in window || 'onmsgesturechange' in window || navigator.msMaxTouchPoints;\n  }\n  function isFunction(f) {\n    return typeof f === 'function';\n  }\n  function isString(s) {\n    return typeof s === 'string';\n  }\n  function isNode(el) {\n    return !!(el && el.nodeType && el.nodeType == 1);\n  }\n  function isArray(ar) {\n    return Array.isArray(ar);\n  }\n  function isArrayLike(ar) {\n    return ar && ar.length && isFinite(ar.length);\n  }\n  function isObject(o) {\n    var type = _typeof(o);\n    return type === 'object' && o != null && !isFunction(o) && !isArray(o);\n  }\n  function isNil(o) {\n    return o == null;\n  }\n  function has(obj, key) {\n    return obj !== null && hasOwnProperty.call(obj, key);\n  }\n  function size(o) {\n    if (isObject(o)) {\n      if (o.keys) {\n        return o.keys().length;\n      }\n      var l = 0;\n      for (var k in o) {\n        if (has(o, k)) {\n          l++;\n        }\n      }\n      return l;\n    } else {\n      return o.length;\n    }\n  }\n  function isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n  function getNextFocusElement() {\n    var current = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n    var btns = document.querySelectorAll('.gbtn[data-taborder]:not(.disabled)');\n    if (!btns.length) {\n      return false;\n    }\n    if (btns.length == 1) {\n      return btns[0];\n    }\n    if (typeof current == 'string') {\n      current = parseInt(current);\n    }\n    var orders = [];\n    each(btns, function (btn) {\n      orders.push(btn.getAttribute('data-taborder'));\n    });\n    var highestOrder = Math.max.apply(Math, orders.map(function (order) {\n      return parseInt(order);\n    }));\n    var newIndex = current < 0 ? 1 : current + 1;\n    if (newIndex > highestOrder) {\n      newIndex = '1';\n    }\n    var nextOrders = orders.filter(function (el) {\n      return el >= parseInt(newIndex);\n    });\n    var nextFocus = nextOrders.sort()[0];\n    return document.querySelector(\".gbtn[data-taborder=\\\"\".concat(nextFocus, \"\\\"]\"));\n  }\n  function keyboardNavigation(instance) {\n    if (instance.events.hasOwnProperty('keyboard')) {\n      return false;\n    }\n    instance.events['keyboard'] = addEvent('keydown', {\n      onElement: window,\n      withCallback: function withCallback(event, target) {\n        event = event || window.event;\n        var key = event.keyCode;\n        if (key == 9) {\n          var focusedButton = document.querySelector('.gbtn.focused');\n          if (!focusedButton) {\n            var activeElement = document.activeElement && document.activeElement.nodeName ? document.activeElement.nodeName.toLocaleLowerCase() : false;\n            if (activeElement == 'input' || activeElement == 'textarea' || activeElement == 'button') {\n              return;\n            }\n          }\n          event.preventDefault();\n          var btns = document.querySelectorAll('.gbtn[data-taborder]');\n          if (!btns || btns.length <= 0) {\n            return;\n          }\n          if (!focusedButton) {\n            var first = getNextFocusElement();\n            if (first) {\n              first.focus();\n              addClass(first, 'focused');\n            }\n            return;\n          }\n          var currentFocusOrder = focusedButton.getAttribute('data-taborder');\n          var nextFocus = getNextFocusElement(currentFocusOrder);\n          removeClass(focusedButton, 'focused');\n          if (nextFocus) {\n            nextFocus.focus();\n            addClass(nextFocus, 'focused');\n          }\n        }\n        if (key == 39) {\n          instance.nextSlide();\n        }\n        if (key == 37) {\n          instance.prevSlide();\n        }\n        if (key == 27) {\n          instance.close();\n        }\n      }\n    });\n  }\n  var ZoomImages = function () {\n    function ZoomImages(el, slide) {\n      var _this = this;\n      var onclose = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      _classCallCheck(this, ZoomImages);\n      this.img = el;\n      this.slide = slide;\n      this.onclose = onclose;\n      if (this.img.setZoomEvents) {\n        return false;\n      }\n      this.active = false;\n      this.zoomedIn = false;\n      this.dragging = false;\n      this.currentX = null;\n      this.currentY = null;\n      this.initialX = null;\n      this.initialY = null;\n      this.xOffset = 0;\n      this.yOffset = 0;\n      this.img.addEventListener('mousedown', function (e) {\n        return _this.dragStart(e);\n      }, false);\n      this.img.addEventListener('mouseup', function (e) {\n        return _this.dragEnd(e);\n      }, false);\n      this.img.addEventListener('mousemove', function (e) {\n        return _this.drag(e);\n      }, false);\n      this.img.addEventListener('click', function (e) {\n        if (_this.slide.classList.contains('dragging-nav')) {\n          _this.zoomOut();\n          return false;\n        }\n        if (!_this.zoomedIn) {\n          return _this.zoomIn();\n        }\n        if (_this.zoomedIn && !_this.dragging) {\n          _this.zoomOut();\n        }\n      }, false);\n      this.img.setZoomEvents = true;\n    }\n    return _createClass(ZoomImages, [{\n      key: \"zoomIn\",\n      value: function zoomIn() {\n        var winWidth = this.widowWidth();\n        if (this.zoomedIn || winWidth <= 768) {\n          return;\n        }\n        var img = this.img;\n        img.setAttribute('data-style', img.getAttribute('style'));\n        img.style.maxWidth = img.naturalWidth + 'px';\n        img.style.maxHeight = img.naturalHeight + 'px';\n        if (img.naturalWidth > winWidth) {\n          var centerX = winWidth / 2 - img.naturalWidth / 2;\n          this.setTranslate(this.img.parentNode, centerX, 0);\n        }\n        this.slide.classList.add('zoomed');\n        this.zoomedIn = true;\n      }\n    }, {\n      key: \"zoomOut\",\n      value: function zoomOut() {\n        this.img.parentNode.setAttribute('style', '');\n        this.img.setAttribute('style', this.img.getAttribute('data-style'));\n        this.slide.classList.remove('zoomed');\n        this.zoomedIn = false;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        if (this.onclose && typeof this.onclose == 'function') {\n          this.onclose();\n        }\n      }\n    }, {\n      key: \"dragStart\",\n      value: function dragStart(e) {\n        e.preventDefault();\n        if (!this.zoomedIn) {\n          this.active = false;\n          return;\n        }\n        if (e.type === 'touchstart') {\n          this.initialX = e.touches[0].clientX - this.xOffset;\n          this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n          this.initialX = e.clientX - this.xOffset;\n          this.initialY = e.clientY - this.yOffset;\n        }\n        if (e.target === this.img) {\n          this.active = true;\n          this.img.classList.add('dragging');\n        }\n      }\n    }, {\n      key: \"dragEnd\",\n      value: function dragEnd(e) {\n        var _this2 = this;\n        e.preventDefault();\n        this.initialX = this.currentX;\n        this.initialY = this.currentY;\n        this.active = false;\n        setTimeout(function () {\n          _this2.dragging = false;\n          _this2.img.isDragging = false;\n          _this2.img.classList.remove('dragging');\n        }, 100);\n      }\n    }, {\n      key: \"drag\",\n      value: function drag(e) {\n        if (this.active) {\n          e.preventDefault();\n          if (e.type === 'touchmove') {\n            this.currentX = e.touches[0].clientX - this.initialX;\n            this.currentY = e.touches[0].clientY - this.initialY;\n          } else {\n            this.currentX = e.clientX - this.initialX;\n            this.currentY = e.clientY - this.initialY;\n          }\n          this.xOffset = this.currentX;\n          this.yOffset = this.currentY;\n          this.img.isDragging = true;\n          this.dragging = true;\n          this.setTranslate(this.img, this.currentX, this.currentY);\n        }\n      }\n    }, {\n      key: \"onMove\",\n      value: function onMove(e) {\n        if (!this.zoomedIn) {\n          return;\n        }\n        var xOffset = e.clientX - this.img.naturalWidth / 2;\n        var yOffset = e.clientY - this.img.naturalHeight / 2;\n        this.setTranslate(this.img, xOffset, yOffset);\n      }\n    }, {\n      key: \"setTranslate\",\n      value: function setTranslate(node, xPos, yPos) {\n        node.style.transform = 'translate3d(' + xPos + 'px, ' + yPos + 'px, 0)';\n      }\n    }, {\n      key: \"widowWidth\",\n      value: function widowWidth() {\n        return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n      }\n    }]);\n  }();\n  var DragSlides = function () {\n    function DragSlides() {\n      var _this = this;\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, DragSlides);\n      var dragEl = config.dragEl,\n        _config$toleranceX = config.toleranceX,\n        toleranceX = _config$toleranceX === void 0 ? 40 : _config$toleranceX,\n        _config$toleranceY = config.toleranceY,\n        toleranceY = _config$toleranceY === void 0 ? 65 : _config$toleranceY,\n        _config$slide = config.slide,\n        slide = _config$slide === void 0 ? null : _config$slide,\n        _config$instance = config.instance,\n        instance = _config$instance === void 0 ? null : _config$instance;\n      this.el = dragEl;\n      this.active = false;\n      this.dragging = false;\n      this.currentX = null;\n      this.currentY = null;\n      this.initialX = null;\n      this.initialY = null;\n      this.xOffset = 0;\n      this.yOffset = 0;\n      this.direction = null;\n      this.lastDirection = null;\n      this.toleranceX = toleranceX;\n      this.toleranceY = toleranceY;\n      this.toleranceReached = false;\n      this.dragContainer = this.el;\n      this.slide = slide;\n      this.instance = instance;\n      this.el.addEventListener('mousedown', function (e) {\n        return _this.dragStart(e);\n      }, false);\n      this.el.addEventListener('mouseup', function (e) {\n        return _this.dragEnd(e);\n      }, false);\n      this.el.addEventListener('mousemove', function (e) {\n        return _this.drag(e);\n      }, false);\n    }\n    return _createClass(DragSlides, [{\n      key: \"dragStart\",\n      value: function dragStart(e) {\n        if (this.slide.classList.contains('zoomed')) {\n          this.active = false;\n          return;\n        }\n        if (e.type === 'touchstart') {\n          this.initialX = e.touches[0].clientX - this.xOffset;\n          this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n          this.initialX = e.clientX - this.xOffset;\n          this.initialY = e.clientY - this.yOffset;\n        }\n        var clicked = e.target.nodeName.toLowerCase();\n        var exludeClicks = ['input', 'select', 'textarea', 'button', 'a'];\n        if (e.target.classList.contains('nodrag') || closest(e.target, '.nodrag') || exludeClicks.indexOf(clicked) !== -1) {\n          this.active = false;\n          return;\n        }\n        e.preventDefault();\n        if (e.target === this.el || clicked !== 'img' && closest(e.target, '.gslide-inline')) {\n          this.active = true;\n          this.el.classList.add('dragging');\n          this.dragContainer = closest(e.target, '.ginner-container');\n        }\n      }\n    }, {\n      key: \"dragEnd\",\n      value: function dragEnd(e) {\n        var _this2 = this;\n        e && e.preventDefault();\n        this.initialX = 0;\n        this.initialY = 0;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        this.active = false;\n        if (this.doSlideChange) {\n          this.instance.preventOutsideClick = true;\n          this.doSlideChange == 'right' && this.instance.prevSlide();\n          this.doSlideChange == 'left' && this.instance.nextSlide();\n        }\n        if (this.doSlideClose) {\n          this.instance.close();\n        }\n        if (!this.toleranceReached) {\n          this.setTranslate(this.dragContainer, 0, 0, true);\n        }\n        setTimeout(function () {\n          _this2.instance.preventOutsideClick = false;\n          _this2.toleranceReached = false;\n          _this2.lastDirection = null;\n          _this2.dragging = false;\n          _this2.el.isDragging = false;\n          _this2.el.classList.remove('dragging');\n          _this2.slide.classList.remove('dragging-nav');\n          _this2.dragContainer.style.transform = '';\n          _this2.dragContainer.style.transition = '';\n        }, 100);\n      }\n    }, {\n      key: \"drag\",\n      value: function drag(e) {\n        if (this.active) {\n          e.preventDefault();\n          this.slide.classList.add('dragging-nav');\n          if (e.type === 'touchmove') {\n            this.currentX = e.touches[0].clientX - this.initialX;\n            this.currentY = e.touches[0].clientY - this.initialY;\n          } else {\n            this.currentX = e.clientX - this.initialX;\n            this.currentY = e.clientY - this.initialY;\n          }\n          this.xOffset = this.currentX;\n          this.yOffset = this.currentY;\n          this.el.isDragging = true;\n          this.dragging = true;\n          this.doSlideChange = false;\n          this.doSlideClose = false;\n          var currentXInt = Math.abs(this.currentX);\n          var currentYInt = Math.abs(this.currentY);\n          if (currentXInt > 0 && currentXInt >= Math.abs(this.currentY) && (!this.lastDirection || this.lastDirection == 'x')) {\n            this.yOffset = 0;\n            this.lastDirection = 'x';\n            this.setTranslate(this.dragContainer, this.currentX, 0);\n            var doChange = this.shouldChange();\n            if (!this.instance.settings.dragAutoSnap && doChange) {\n              this.doSlideChange = doChange;\n            }\n            if (this.instance.settings.dragAutoSnap && doChange) {\n              this.instance.preventOutsideClick = true;\n              this.toleranceReached = true;\n              this.active = false;\n              this.instance.preventOutsideClick = true;\n              this.dragEnd(null);\n              doChange == 'right' && this.instance.prevSlide();\n              doChange == 'left' && this.instance.nextSlide();\n              return;\n            }\n          }\n          if (this.toleranceY > 0 && currentYInt > 0 && currentYInt >= currentXInt && (!this.lastDirection || this.lastDirection == 'y')) {\n            this.xOffset = 0;\n            this.lastDirection = 'y';\n            this.setTranslate(this.dragContainer, 0, this.currentY);\n            var doClose = this.shouldClose();\n            if (!this.instance.settings.dragAutoSnap && doClose) {\n              this.doSlideClose = true;\n            }\n            if (this.instance.settings.dragAutoSnap && doClose) {\n              this.instance.close();\n            }\n            return;\n          }\n        }\n      }\n    }, {\n      key: \"shouldChange\",\n      value: function shouldChange() {\n        var doChange = false;\n        var currentXInt = Math.abs(this.currentX);\n        if (currentXInt >= this.toleranceX) {\n          var dragDir = this.currentX > 0 ? 'right' : 'left';\n          if (dragDir == 'left' && this.slide !== this.slide.parentNode.lastChild || dragDir == 'right' && this.slide !== this.slide.parentNode.firstChild) {\n            doChange = dragDir;\n          }\n        }\n        return doChange;\n      }\n    }, {\n      key: \"shouldClose\",\n      value: function shouldClose() {\n        var doClose = false;\n        var currentYInt = Math.abs(this.currentY);\n        if (currentYInt >= this.toleranceY) {\n          doClose = true;\n        }\n        return doClose;\n      }\n    }, {\n      key: \"setTranslate\",\n      value: function setTranslate(node, xPos, yPos) {\n        var animated = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        if (animated) {\n          node.style.transition = 'all .2s ease';\n        } else {\n          node.style.transition = '';\n        }\n        node.style.transform = \"translate3d(\".concat(xPos, \"px, \").concat(yPos, \"px, 0)\");\n      }\n    }]);\n  }();\n  function slideImage(slide, data, index, callback) {\n    var slideMedia = slide.querySelector('.gslide-media');\n    var img = new Image();\n    var titleID = 'gSlideTitle_' + index;\n    var textID = 'gSlideDesc_' + index;\n    img.addEventListener('load', function () {\n      if (isFunction(callback)) {\n        callback();\n      }\n    }, false);\n    img.src = data.href;\n    if (data.sizes != '' && data.srcset != '') {\n      img.sizes = data.sizes;\n      img.srcset = data.srcset;\n    }\n    img.alt = '';\n    if (!isNil(data.alt) && data.alt !== '') {\n      img.alt = data.alt;\n    }\n    if (data.title !== '') {\n      img.setAttribute('aria-labelledby', titleID);\n    }\n    if (data.description !== '') {\n      img.setAttribute('aria-describedby', textID);\n    }\n    if (data.hasOwnProperty('_hasCustomWidth') && data._hasCustomWidth) {\n      img.style.width = data.width;\n    }\n    if (data.hasOwnProperty('_hasCustomHeight') && data._hasCustomHeight) {\n      img.style.height = data.height;\n    }\n    slideMedia.insertBefore(img, slideMedia.firstChild);\n    return;\n  }\n  function slideVideo(slide, data, index, callback) {\n    var _this = this;\n    var slideContainer = slide.querySelector('.ginner-container');\n    var videoID = 'gvideo' + index;\n    var slideMedia = slide.querySelector('.gslide-media');\n    var videoPlayers = this.getAllPlayers();\n    addClass(slideContainer, 'gvideo-container');\n    slideMedia.insertBefore(createHTML('<div class=\"gvideo-wrapper\"></div>'), slideMedia.firstChild);\n    var videoWrapper = slide.querySelector('.gvideo-wrapper');\n    injectAssets(this.settings.plyr.css, 'Plyr');\n    var url = data.href;\n    var provider = data === null || data === void 0 ? void 0 : data.videoProvider;\n    var customPlaceholder = false;\n    slideMedia.style.maxWidth = data.width;\n    injectAssets(this.settings.plyr.js, 'Plyr', function () {\n      if (!provider && url.match(/vimeo\\.com\\/([0-9]*)/)) {\n        provider = 'vimeo';\n      }\n      if (!provider && (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/shorts\\/([a-zA-Z0-9\\-_]+)/))) {\n        provider = 'youtube';\n      }\n      if (provider === 'local' || !provider) {\n        provider = 'local';\n        var html = '<video id=\"' + videoID + '\" ';\n        html += \"style=\\\"background:#000; max-width: \".concat(data.width, \";\\\" \");\n        html += 'preload=\"metadata\" ';\n        html += 'x-webkit-airplay=\"allow\" ';\n        html += 'playsinline ';\n        html += 'controls ';\n        html += 'class=\"gvideo-local\">';\n        html += \"<source src=\\\"\".concat(url, \"\\\">\");\n        html += '</video>';\n        customPlaceholder = createHTML(html);\n      }\n      var placeholder = customPlaceholder ? customPlaceholder : createHTML(\"<div id=\\\"\".concat(videoID, \"\\\" data-plyr-provider=\\\"\").concat(provider, \"\\\" data-plyr-embed-id=\\\"\").concat(url, \"\\\"></div>\"));\n      addClass(videoWrapper, \"\".concat(provider, \"-video gvideo\"));\n      videoWrapper.appendChild(placeholder);\n      videoWrapper.setAttribute('data-id', videoID);\n      videoWrapper.setAttribute('data-index', index);\n      var playerConfig = has(_this.settings.plyr, 'config') ? _this.settings.plyr.config : {};\n      var player = new Plyr('#' + videoID, playerConfig);\n      player.on('ready', function (event) {\n        videoPlayers[videoID] = event.detail.plyr;\n        if (isFunction(callback)) {\n          callback();\n        }\n      });\n      waitUntil(function () {\n        return slide.querySelector('iframe') && slide.querySelector('iframe').dataset.ready == 'true';\n      }, function () {\n        _this.resize(slide);\n      });\n      player.on('enterfullscreen', handleMediaFullScreen);\n      player.on('exitfullscreen', handleMediaFullScreen);\n    });\n  }\n  function handleMediaFullScreen(event) {\n    var media = closest(event.target, '.gslide-media');\n    if (event.type === 'enterfullscreen') {\n      addClass(media, 'fullscreen');\n    }\n    if (event.type === 'exitfullscreen') {\n      removeClass(media, 'fullscreen');\n    }\n  }\n  function slideInline(slide, data, index, callback) {\n    var _this = this;\n    var slideMedia = slide.querySelector('.gslide-media');\n    var hash = has(data, 'href') && data.href ? data.href.split('#').pop().trim() : false;\n    var content = has(data, 'content') && data.content ? data.content : false;\n    var innerContent;\n    if (content) {\n      if (isString(content)) {\n        innerContent = createHTML(\"<div class=\\\"ginlined-content\\\">\".concat(content, \"</div>\"));\n      }\n      if (isNode(content)) {\n        if (content.style.display == 'none') {\n          content.style.display = 'block';\n        }\n        var container = document.createElement('div');\n        container.className = 'ginlined-content';\n        container.appendChild(content);\n        innerContent = container;\n      }\n    }\n    if (hash) {\n      var div = document.getElementById(hash);\n      if (!div) {\n        return false;\n      }\n      var cloned = div.cloneNode(true);\n      cloned.style.height = data.height;\n      cloned.style.maxWidth = data.width;\n      addClass(cloned, 'ginlined-content');\n      innerContent = cloned;\n    }\n    if (!innerContent) {\n      console.error('Unable to append inline slide content', data);\n      return false;\n    }\n    slideMedia.style.height = data.height;\n    slideMedia.style.width = data.width;\n    slideMedia.appendChild(innerContent);\n    this.events['inlineclose' + hash] = addEvent('click', {\n      onElement: slideMedia.querySelectorAll('.gtrigger-close'),\n      withCallback: function withCallback(e) {\n        e.preventDefault();\n        _this.close();\n      }\n    });\n    if (isFunction(callback)) {\n      callback();\n    }\n    return;\n  }\n  function slideIframe(slide, data, index, callback) {\n    var slideMedia = slide.querySelector('.gslide-media');\n    var iframe = createIframe({\n      url: data.href,\n      callback: callback\n    });\n    slideMedia.parentNode.style.maxWidth = data.width;\n    slideMedia.parentNode.style.height = data.height;\n    slideMedia.appendChild(iframe);\n    return;\n  }\n  var SlideConfigParser = function () {\n    function SlideConfigParser() {\n      var slideParamas = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, SlideConfigParser);\n      this.defaults = {\n        href: '',\n        sizes: '',\n        srcset: '',\n        title: '',\n        type: '',\n        videoProvider: '',\n        description: '',\n        alt: '',\n        descPosition: 'bottom',\n        effect: '',\n        width: '',\n        height: '',\n        content: false,\n        zoomable: true,\n        draggable: true\n      };\n      if (isObject(slideParamas)) {\n        this.defaults = extend(this.defaults, slideParamas);\n      }\n    }\n    return _createClass(SlideConfigParser, [{\n      key: \"sourceType\",\n      value: function sourceType(url) {\n        var origin = url;\n        url = url.toLowerCase();\n        if (url.match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/) !== null) {\n          return 'image';\n        }\n        if (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/shorts\\/([a-zA-Z0-9\\-_]+)/)) {\n          return 'video';\n        }\n        if (url.match(/vimeo\\.com\\/([0-9]*)/)) {\n          return 'video';\n        }\n        if (url.match(/\\.(mp4|ogg|webm|mov)/) !== null) {\n          return 'video';\n        }\n        if (url.match(/\\.(mp3|wav|wma|aac|ogg)/) !== null) {\n          return 'audio';\n        }\n        if (url.indexOf('#') > -1) {\n          var hash = origin.split('#').pop();\n          if (hash.trim() !== '') {\n            return 'inline';\n          }\n        }\n        if (url.indexOf('goajax=true') > -1) {\n          return 'ajax';\n        }\n        return 'external';\n      }\n    }, {\n      key: \"parseConfig\",\n      value: function parseConfig(element, settings) {\n        var _this = this;\n        var data = extend({\n          descPosition: settings.descPosition\n        }, this.defaults);\n        if (isObject(element) && !isNode(element)) {\n          if (!has(element, 'type')) {\n            if (has(element, 'content') && element.content) {\n              element.type = 'inline';\n            } else if (has(element, 'href')) {\n              element.type = this.sourceType(element.href);\n            }\n          }\n          var objectData = extend(data, element);\n          this.setSize(objectData, settings);\n          return objectData;\n        }\n        var url = '';\n        var config = element.getAttribute('data-glightbox');\n        var nodeType = element.nodeName.toLowerCase();\n        if (nodeType === 'a') {\n          url = element.href;\n        }\n        if (nodeType === 'img') {\n          url = element.src;\n          data.alt = element.alt;\n        }\n        data.href = url;\n        each(data, function (val, key) {\n          if (has(settings, key) && key !== 'width') {\n            data[key] = settings[key];\n          }\n          var nodeData = element.dataset[key];\n          if (!isNil(nodeData)) {\n            data[key] = _this.sanitizeValue(nodeData);\n          }\n        });\n        if (data.content) {\n          data.type = 'inline';\n        }\n        if (!data.type && url) {\n          data.type = this.sourceType(url);\n        }\n        if (!isNil(config)) {\n          var cleanKeys = [];\n          each(data, function (v, k) {\n            cleanKeys.push(';\\\\s?' + k);\n          });\n          cleanKeys = cleanKeys.join('\\\\s?:|');\n          if (config.trim() !== '') {\n            each(data, function (val, key) {\n              var str = config;\n              var match = 's?' + key + 's?:s?(.*?)(' + cleanKeys + 's?:|$)';\n              var regex = new RegExp(match);\n              var matches = str.match(regex);\n              if (matches && matches.length && matches[1]) {\n                var value = matches[1].trim().replace(/;\\s*$/, '');\n                data[key] = _this.sanitizeValue(value);\n              }\n            });\n          }\n        } else {\n          if (!data.title && nodeType == 'a') {\n            var title = element.title;\n            if (!isNil(title) && title !== '') {\n              data.title = title;\n            }\n          }\n          if (!data.title && nodeType == 'img') {\n            var alt = element.alt;\n            if (!isNil(alt) && alt !== '') {\n              data.title = alt;\n            }\n          }\n        }\n        if (data.description && data.description.substring(0, 1) === '.') {\n          var description;\n          try {\n            description = document.querySelector(data.description).innerHTML;\n          } catch (error) {\n            if (!(error instanceof DOMException)) {\n              throw error;\n            }\n          }\n          if (description) {\n            data.description = description;\n          }\n        }\n        if (!data.description) {\n          var nodeDesc = element.querySelector('.glightbox-desc');\n          if (nodeDesc) {\n            data.description = nodeDesc.innerHTML;\n          }\n        }\n        this.setSize(data, settings, element);\n        this.slideConfig = data;\n        return data;\n      }\n    }, {\n      key: \"setSize\",\n      value: function setSize(data, settings) {\n        var element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var defaultWith = data.type == 'video' ? this.checkSize(settings.videosWidth) : this.checkSize(settings.width);\n        var defaultHeight = this.checkSize(settings.height);\n        data.width = has(data, 'width') && data.width !== '' ? this.checkSize(data.width) : defaultWith;\n        data.height = has(data, 'height') && data.height !== '' ? this.checkSize(data.height) : defaultHeight;\n        if (element && data.type == 'image') {\n          data._hasCustomWidth = element.dataset.width ? true : false;\n          data._hasCustomHeight = element.dataset.height ? true : false;\n        }\n        return data;\n      }\n    }, {\n      key: \"checkSize\",\n      value: function checkSize(size) {\n        return isNumber(size) ? \"\".concat(size, \"px\") : size;\n      }\n    }, {\n      key: \"sanitizeValue\",\n      value: function sanitizeValue(val) {\n        if (val !== 'true' && val !== 'false') {\n          return val;\n        }\n        return val === 'true';\n      }\n    }]);\n  }();\n  var Slide = function () {\n    function Slide(el, instance, index) {\n      _classCallCheck(this, Slide);\n      this.element = el;\n      this.instance = instance;\n      this.index = index;\n    }\n    return _createClass(Slide, [{\n      key: \"setContent\",\n      value: function setContent() {\n        var _this = this;\n        var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        if (hasClass(slide, 'loaded')) {\n          return false;\n        }\n        var settings = this.instance.settings;\n        var slideConfig = this.slideConfig;\n        var isMobileDevice = isMobile();\n        if (isFunction(settings.beforeSlideLoad)) {\n          settings.beforeSlideLoad({\n            index: this.index,\n            slide: slide,\n            player: false\n          });\n        }\n        var type = slideConfig.type;\n        var position = slideConfig.descPosition;\n        var slideMedia = slide.querySelector('.gslide-media');\n        var slideTitle = slide.querySelector('.gslide-title');\n        var slideText = slide.querySelector('.gslide-desc');\n        var slideDesc = slide.querySelector('.gdesc-inner');\n        var finalCallback = callback;\n        var titleID = 'gSlideTitle_' + this.index;\n        var textID = 'gSlideDesc_' + this.index;\n        if (isFunction(settings.afterSlideLoad)) {\n          finalCallback = function finalCallback() {\n            if (isFunction(callback)) {\n              callback();\n            }\n            settings.afterSlideLoad({\n              index: _this.index,\n              slide: slide,\n              player: _this.instance.getSlidePlayerInstance(_this.index)\n            });\n          };\n        }\n        if (slideConfig.title == '' && slideConfig.description == '') {\n          if (slideDesc) {\n            slideDesc.parentNode.parentNode.removeChild(slideDesc.parentNode);\n          }\n        } else {\n          if (slideTitle && slideConfig.title !== '') {\n            slideTitle.id = titleID;\n            slideTitle.innerHTML = slideConfig.title;\n          } else {\n            slideTitle.parentNode.removeChild(slideTitle);\n          }\n          if (slideText && slideConfig.description !== '') {\n            slideText.id = textID;\n            if (isMobileDevice && settings.moreLength > 0) {\n              slideConfig.smallDescription = this.slideShortDesc(slideConfig.description, settings.moreLength, settings.moreText);\n              slideText.innerHTML = slideConfig.smallDescription;\n              this.descriptionEvents(slideText, slideConfig);\n            } else {\n              slideText.innerHTML = slideConfig.description;\n            }\n          } else {\n            slideText.parentNode.removeChild(slideText);\n          }\n          addClass(slideMedia.parentNode, \"desc-\".concat(position));\n          addClass(slideDesc.parentNode, \"description-\".concat(position));\n        }\n        addClass(slideMedia, \"gslide-\".concat(type));\n        addClass(slide, 'loaded');\n        if (type === 'video') {\n          slideVideo.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n          return;\n        }\n        if (type === 'external') {\n          slideIframe.apply(this, [slide, slideConfig, this.index, finalCallback]);\n          return;\n        }\n        if (type === 'inline') {\n          slideInline.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n          if (slideConfig.draggable) {\n            new DragSlides({\n              dragEl: slide.querySelector('.gslide-inline'),\n              toleranceX: settings.dragToleranceX,\n              toleranceY: settings.dragToleranceY,\n              slide: slide,\n              instance: this.instance\n            });\n          }\n          return;\n        }\n        if (type === 'image') {\n          slideImage(slide, slideConfig, this.index, function () {\n            var img = slide.querySelector('img');\n            if (slideConfig.draggable) {\n              new DragSlides({\n                dragEl: img,\n                toleranceX: settings.dragToleranceX,\n                toleranceY: settings.dragToleranceY,\n                slide: slide,\n                instance: _this.instance\n              });\n            }\n            if (slideConfig.zoomable && img.naturalWidth > img.offsetWidth) {\n              addClass(img, 'zoomable');\n              new ZoomImages(img, slide, function () {\n                _this.instance.resize();\n              });\n            }\n            if (isFunction(finalCallback)) {\n              finalCallback();\n            }\n          });\n          return;\n        }\n        if (isFunction(finalCallback)) {\n          finalCallback();\n        }\n      }\n    }, {\n      key: \"slideShortDesc\",\n      value: function slideShortDesc(string) {\n        var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n        var wordBoundary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var div = document.createElement('div');\n        div.innerHTML = string;\n        var cleanedString = div.innerText;\n        var useWordBoundary = wordBoundary;\n        string = cleanedString.trim();\n        if (string.length <= n) {\n          return string;\n        }\n        var subString = string.substr(0, n - 1);\n        if (!useWordBoundary) {\n          return subString;\n        }\n        div = null;\n        return subString + '... <a href=\"#\" class=\"desc-more\">' + wordBoundary + '</a>';\n      }\n    }, {\n      key: \"descriptionEvents\",\n      value: function descriptionEvents(desc, data) {\n        var _this2 = this;\n        var moreLink = desc.querySelector('.desc-more');\n        if (!moreLink) {\n          return false;\n        }\n        addEvent('click', {\n          onElement: moreLink,\n          withCallback: function withCallback(event, target) {\n            event.preventDefault();\n            var body = document.body;\n            var desc = closest(target, '.gslide-desc');\n            if (!desc) {\n              return false;\n            }\n            desc.innerHTML = data.description;\n            addClass(body, 'gdesc-open');\n            var shortEvent = addEvent('click', {\n              onElement: [body, closest(desc, '.gslide-description')],\n              withCallback: function withCallback(event, target) {\n                if (event.target.nodeName.toLowerCase() !== 'a') {\n                  removeClass(body, 'gdesc-open');\n                  addClass(body, 'gdesc-closed');\n                  desc.innerHTML = data.smallDescription;\n                  _this2.descriptionEvents(desc, data);\n                  setTimeout(function () {\n                    removeClass(body, 'gdesc-closed');\n                  }, 400);\n                  shortEvent.destroy();\n                }\n              }\n            });\n          }\n        });\n      }\n    }, {\n      key: \"create\",\n      value: function create() {\n        return createHTML(this.instance.settings.slideHTML);\n      }\n    }, {\n      key: \"getConfig\",\n      value: function getConfig() {\n        if (!isNode(this.element) && !this.element.hasOwnProperty('draggable')) {\n          this.element.draggable = this.instance.settings.draggable;\n        }\n        var parser = new SlideConfigParser(this.instance.settings.slideExtraAttributes);\n        this.slideConfig = parser.parseConfig(this.element, this.instance.settings);\n        return this.slideConfig;\n      }\n    }]);\n  }();\n  function getLen(v) {\n    return Math.sqrt(v.x * v.x + v.y * v.y);\n  }\n  function dot(v1, v2) {\n    return v1.x * v2.x + v1.y * v2.y;\n  }\n  function getAngle(v1, v2) {\n    var mr = getLen(v1) * getLen(v2);\n    if (mr === 0) {\n      return 0;\n    }\n    var r = dot(v1, v2) / mr;\n    if (r > 1) {\n      r = 1;\n    }\n    return Math.acos(r);\n  }\n  function cross(v1, v2) {\n    return v1.x * v2.y - v2.x * v1.y;\n  }\n  function getRotateAngle(v1, v2) {\n    var angle = getAngle(v1, v2);\n    if (cross(v1, v2) > 0) {\n      angle *= -1;\n    }\n    return angle * 180 / Math.PI;\n  }\n  var EventsHandlerAdmin = function () {\n    function EventsHandlerAdmin(el) {\n      _classCallCheck(this, EventsHandlerAdmin);\n      this.handlers = [];\n      this.el = el;\n    }\n    return _createClass(EventsHandlerAdmin, [{\n      key: \"add\",\n      value: function add(handler) {\n        this.handlers.push(handler);\n      }\n    }, {\n      key: \"del\",\n      value: function del(handler) {\n        if (!handler) {\n          this.handlers = [];\n        }\n        for (var i = this.handlers.length; i >= 0; i--) {\n          if (this.handlers[i] === handler) {\n            this.handlers.splice(i, 1);\n          }\n        }\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch() {\n        for (var i = 0, len = this.handlers.length; i < len; i++) {\n          var handler = this.handlers[i];\n          if (typeof handler === 'function') {\n            handler.apply(this.el, arguments);\n          }\n        }\n      }\n    }]);\n  }();\n  function wrapFunc(el, handler) {\n    var EventshandlerAdmin = new EventsHandlerAdmin(el);\n    EventshandlerAdmin.add(handler);\n    return EventshandlerAdmin;\n  }\n  var TouchEvents = function () {\n    function TouchEvents(el, option) {\n      _classCallCheck(this, TouchEvents);\n      this.element = typeof el == 'string' ? document.querySelector(el) : el;\n      this.start = this.start.bind(this);\n      this.move = this.move.bind(this);\n      this.end = this.end.bind(this);\n      this.cancel = this.cancel.bind(this);\n      this.element.addEventListener('touchstart', this.start, false);\n      this.element.addEventListener('touchmove', this.move, false);\n      this.element.addEventListener('touchend', this.end, false);\n      this.element.addEventListener('touchcancel', this.cancel, false);\n      this.preV = {\n        x: null,\n        y: null\n      };\n      this.pinchStartLen = null;\n      this.zoom = 1;\n      this.isDoubleTap = false;\n      var noop = function noop() {};\n      this.rotate = wrapFunc(this.element, option.rotate || noop);\n      this.touchStart = wrapFunc(this.element, option.touchStart || noop);\n      this.multipointStart = wrapFunc(this.element, option.multipointStart || noop);\n      this.multipointEnd = wrapFunc(this.element, option.multipointEnd || noop);\n      this.pinch = wrapFunc(this.element, option.pinch || noop);\n      this.swipe = wrapFunc(this.element, option.swipe || noop);\n      this.tap = wrapFunc(this.element, option.tap || noop);\n      this.doubleTap = wrapFunc(this.element, option.doubleTap || noop);\n      this.longTap = wrapFunc(this.element, option.longTap || noop);\n      this.singleTap = wrapFunc(this.element, option.singleTap || noop);\n      this.pressMove = wrapFunc(this.element, option.pressMove || noop);\n      this.twoFingerPressMove = wrapFunc(this.element, option.twoFingerPressMove || noop);\n      this.touchMove = wrapFunc(this.element, option.touchMove || noop);\n      this.touchEnd = wrapFunc(this.element, option.touchEnd || noop);\n      this.touchCancel = wrapFunc(this.element, option.touchCancel || noop);\n      this.translateContainer = this.element;\n      this._cancelAllHandler = this.cancelAll.bind(this);\n      window.addEventListener('scroll', this._cancelAllHandler);\n      this.delta = null;\n      this.last = null;\n      this.now = null;\n      this.tapTimeout = null;\n      this.singleTapTimeout = null;\n      this.longTapTimeout = null;\n      this.swipeTimeout = null;\n      this.x1 = this.x2 = this.y1 = this.y2 = null;\n      this.preTapPosition = {\n        x: null,\n        y: null\n      };\n    }\n    return _createClass(TouchEvents, [{\n      key: \"start\",\n      value: function start(evt) {\n        if (!evt.touches) {\n          return;\n        }\n        var ignoreDragFor = ['a', 'button', 'input'];\n        if (evt.target && evt.target.nodeName && ignoreDragFor.indexOf(evt.target.nodeName.toLowerCase()) >= 0) {\n          console.log('ignore drag for this touched element', evt.target.nodeName.toLowerCase());\n          return;\n        }\n        this.now = Date.now();\n        this.x1 = evt.touches[0].pageX;\n        this.y1 = evt.touches[0].pageY;\n        this.delta = this.now - (this.last || this.now);\n        this.touchStart.dispatch(evt, this.element);\n        if (this.preTapPosition.x !== null) {\n          this.isDoubleTap = this.delta > 0 && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30;\n          if (this.isDoubleTap) {\n            clearTimeout(this.singleTapTimeout);\n          }\n        }\n        this.preTapPosition.x = this.x1;\n        this.preTapPosition.y = this.y1;\n        this.last = this.now;\n        var preV = this.preV,\n          len = evt.touches.length;\n        if (len > 1) {\n          this._cancelLongTap();\n          this._cancelSingleTap();\n          var v = {\n            x: evt.touches[1].pageX - this.x1,\n            y: evt.touches[1].pageY - this.y1\n          };\n          preV.x = v.x;\n          preV.y = v.y;\n          this.pinchStartLen = getLen(preV);\n          this.multipointStart.dispatch(evt, this.element);\n        }\n        this._preventTap = false;\n        this.longTapTimeout = setTimeout(function () {\n          this.longTap.dispatch(evt, this.element);\n          this._preventTap = true;\n        }.bind(this), 750);\n      }\n    }, {\n      key: \"move\",\n      value: function move(evt) {\n        if (!evt.touches) {\n          return;\n        }\n        var preV = this.preV,\n          len = evt.touches.length,\n          currentX = evt.touches[0].pageX,\n          currentY = evt.touches[0].pageY;\n        this.isDoubleTap = false;\n        if (len > 1) {\n          var sCurrentX = evt.touches[1].pageX,\n            sCurrentY = evt.touches[1].pageY;\n          var v = {\n            x: evt.touches[1].pageX - currentX,\n            y: evt.touches[1].pageY - currentY\n          };\n          if (preV.x !== null) {\n            if (this.pinchStartLen > 0) {\n              evt.zoom = getLen(v) / this.pinchStartLen;\n              this.pinch.dispatch(evt, this.element);\n            }\n            evt.angle = getRotateAngle(v, preV);\n            this.rotate.dispatch(evt, this.element);\n          }\n          preV.x = v.x;\n          preV.y = v.y;\n          if (this.x2 !== null && this.sx2 !== null) {\n            evt.deltaX = (currentX - this.x2 + sCurrentX - this.sx2) / 2;\n            evt.deltaY = (currentY - this.y2 + sCurrentY - this.sy2) / 2;\n          } else {\n            evt.deltaX = 0;\n            evt.deltaY = 0;\n          }\n          this.twoFingerPressMove.dispatch(evt, this.element);\n          this.sx2 = sCurrentX;\n          this.sy2 = sCurrentY;\n        } else {\n          if (this.x2 !== null) {\n            evt.deltaX = currentX - this.x2;\n            evt.deltaY = currentY - this.y2;\n            var movedX = Math.abs(this.x1 - this.x2),\n              movedY = Math.abs(this.y1 - this.y2);\n            if (movedX > 10 || movedY > 10) {\n              this._preventTap = true;\n            }\n          } else {\n            evt.deltaX = 0;\n            evt.deltaY = 0;\n          }\n          this.pressMove.dispatch(evt, this.element);\n        }\n        this.touchMove.dispatch(evt, this.element);\n        this._cancelLongTap();\n        this.x2 = currentX;\n        this.y2 = currentY;\n        if (len > 1) {\n          evt.preventDefault();\n        }\n      }\n    }, {\n      key: \"end\",\n      value: function end(evt) {\n        if (!evt.changedTouches) {\n          return;\n        }\n        this._cancelLongTap();\n        var self = this;\n        if (evt.touches.length < 2) {\n          this.multipointEnd.dispatch(evt, this.element);\n          this.sx2 = this.sy2 = null;\n        }\n        if (this.x2 && Math.abs(this.x1 - this.x2) > 30 || this.y2 && Math.abs(this.y1 - this.y2) > 30) {\n          evt.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2);\n          this.swipeTimeout = setTimeout(function () {\n            self.swipe.dispatch(evt, self.element);\n          }, 0);\n        } else {\n          this.tapTimeout = setTimeout(function () {\n            if (!self._preventTap) {\n              self.tap.dispatch(evt, self.element);\n            }\n            if (self.isDoubleTap) {\n              self.doubleTap.dispatch(evt, self.element);\n              self.isDoubleTap = false;\n            }\n          }, 0);\n          if (!self.isDoubleTap) {\n            self.singleTapTimeout = setTimeout(function () {\n              self.singleTap.dispatch(evt, self.element);\n            }, 250);\n          }\n        }\n        this.touchEnd.dispatch(evt, this.element);\n        this.preV.x = 0;\n        this.preV.y = 0;\n        this.zoom = 1;\n        this.pinchStartLen = null;\n        this.x1 = this.x2 = this.y1 = this.y2 = null;\n      }\n    }, {\n      key: \"cancelAll\",\n      value: function cancelAll() {\n        this._preventTap = true;\n        clearTimeout(this.singleTapTimeout);\n        clearTimeout(this.tapTimeout);\n        clearTimeout(this.longTapTimeout);\n        clearTimeout(this.swipeTimeout);\n      }\n    }, {\n      key: \"cancel\",\n      value: function cancel(evt) {\n        this.cancelAll();\n        this.touchCancel.dispatch(evt, this.element);\n      }\n    }, {\n      key: \"_cancelLongTap\",\n      value: function _cancelLongTap() {\n        clearTimeout(this.longTapTimeout);\n      }\n    }, {\n      key: \"_cancelSingleTap\",\n      value: function _cancelSingleTap() {\n        clearTimeout(this.singleTapTimeout);\n      }\n    }, {\n      key: \"_swipeDirection\",\n      value: function _swipeDirection(x1, x2, y1, y2) {\n        return Math.abs(x1 - x2) >= Math.abs(y1 - y2) ? x1 - x2 > 0 ? 'Left' : 'Right' : y1 - y2 > 0 ? 'Up' : 'Down';\n      }\n    }, {\n      key: \"on\",\n      value: function on(evt, handler) {\n        if (this[evt]) {\n          this[evt].add(handler);\n        }\n      }\n    }, {\n      key: \"off\",\n      value: function off(evt, handler) {\n        if (this[evt]) {\n          this[evt].del(handler);\n        }\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (this.singleTapTimeout) {\n          clearTimeout(this.singleTapTimeout);\n        }\n        if (this.tapTimeout) {\n          clearTimeout(this.tapTimeout);\n        }\n        if (this.longTapTimeout) {\n          clearTimeout(this.longTapTimeout);\n        }\n        if (this.swipeTimeout) {\n          clearTimeout(this.swipeTimeout);\n        }\n        this.element.removeEventListener('touchstart', this.start);\n        this.element.removeEventListener('touchmove', this.move);\n        this.element.removeEventListener('touchend', this.end);\n        this.element.removeEventListener('touchcancel', this.cancel);\n        this.rotate.del();\n        this.touchStart.del();\n        this.multipointStart.del();\n        this.multipointEnd.del();\n        this.pinch.del();\n        this.swipe.del();\n        this.tap.del();\n        this.doubleTap.del();\n        this.longTap.del();\n        this.singleTap.del();\n        this.pressMove.del();\n        this.twoFingerPressMove.del();\n        this.touchMove.del();\n        this.touchEnd.del();\n        this.touchCancel.del();\n        this.preV = this.pinchStartLen = this.zoom = this.isDoubleTap = this.delta = this.last = this.now = this.tapTimeout = this.singleTapTimeout = this.longTapTimeout = this.swipeTimeout = this.x1 = this.x2 = this.y1 = this.y2 = this.preTapPosition = this.rotate = this.touchStart = this.multipointStart = this.multipointEnd = this.pinch = this.swipe = this.tap = this.doubleTap = this.longTap = this.singleTap = this.pressMove = this.touchMove = this.touchEnd = this.touchCancel = this.twoFingerPressMove = null;\n        window.removeEventListener('scroll', this._cancelAllHandler);\n        return null;\n      }\n    }]);\n  }();\n  function resetSlideMove(slide) {\n    var transitionEnd = whichTransitionEvent();\n    var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    var media = hasClass(slide, 'gslide-media') ? slide : slide.querySelector('.gslide-media');\n    var container = closest(media, '.ginner-container');\n    var desc = slide.querySelector('.gslide-description');\n    if (windowWidth > 769) {\n      media = container;\n    }\n    addClass(media, 'greset');\n    cssTransform(media, 'translate3d(0, 0, 0)');\n    addEvent(transitionEnd, {\n      onElement: media,\n      once: true,\n      withCallback: function withCallback(event, target) {\n        removeClass(media, 'greset');\n      }\n    });\n    media.style.opacity = '';\n    if (desc) {\n      desc.style.opacity = '';\n    }\n  }\n  function touchNavigation(instance) {\n    if (instance.events.hasOwnProperty('touch')) {\n      return false;\n    }\n    var winSize = windowSize();\n    var winWidth = winSize.width;\n    var winHeight = winSize.height;\n    var process = false;\n    var currentSlide = null;\n    var media = null;\n    var mediaImage = null;\n    var doingMove = false;\n    var initScale = 1;\n    var maxScale = 4.5;\n    var currentScale = 1;\n    var doingZoom = false;\n    var imageZoomed = false;\n    var zoomedPosX = null;\n    var zoomedPosY = null;\n    var lastZoomedPosX = null;\n    var lastZoomedPosY = null;\n    var hDistance;\n    var vDistance;\n    var hDistancePercent = 0;\n    var vDistancePercent = 0;\n    var vSwipe = false;\n    var hSwipe = false;\n    var startCoords = {};\n    var endCoords = {};\n    var xDown = 0;\n    var yDown = 0;\n    var isInlined;\n    var sliderWrapper = document.getElementById('glightbox-slider');\n    var overlay = document.querySelector('.goverlay');\n    var touchInstance = new TouchEvents(sliderWrapper, {\n      touchStart: function touchStart(e) {\n        process = true;\n        if (hasClass(e.targetTouches[0].target, 'ginner-container') || closest(e.targetTouches[0].target, '.gslide-desc') || e.targetTouches[0].target.nodeName.toLowerCase() == 'a') {\n          process = false;\n        }\n        if (closest(e.targetTouches[0].target, '.gslide-inline') && !hasClass(e.targetTouches[0].target.parentNode, 'gslide-inline')) {\n          process = false;\n        }\n        if (process) {\n          endCoords = e.targetTouches[0];\n          startCoords.pageX = e.targetTouches[0].pageX;\n          startCoords.pageY = e.targetTouches[0].pageY;\n          xDown = e.targetTouches[0].clientX;\n          yDown = e.targetTouches[0].clientY;\n          currentSlide = instance.activeSlide;\n          media = currentSlide.querySelector('.gslide-media');\n          isInlined = currentSlide.querySelector('.gslide-inline');\n          mediaImage = null;\n          if (hasClass(media, 'gslide-image')) {\n            mediaImage = media.querySelector('img');\n          }\n          var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n          if (windowWidth > 769) {\n            media = currentSlide.querySelector('.ginner-container');\n          }\n          removeClass(overlay, 'greset');\n          if (e.pageX > 20 && e.pageX < window.innerWidth - 20) {\n            return;\n          }\n          e.preventDefault();\n        }\n      },\n      touchMove: function touchMove(e) {\n        if (!process) {\n          return;\n        }\n        endCoords = e.targetTouches[0];\n        if (doingZoom || imageZoomed) {\n          return;\n        }\n        if (isInlined && isInlined.offsetHeight > winHeight) {\n          var moved = startCoords.pageX - endCoords.pageX;\n          if (Math.abs(moved) <= 13) {\n            return false;\n          }\n        }\n        doingMove = true;\n        var xUp = e.targetTouches[0].clientX;\n        var yUp = e.targetTouches[0].clientY;\n        var xDiff = xDown - xUp;\n        var yDiff = yDown - yUp;\n        if (Math.abs(xDiff) > Math.abs(yDiff)) {\n          vSwipe = false;\n          hSwipe = true;\n        } else {\n          hSwipe = false;\n          vSwipe = true;\n        }\n        hDistance = endCoords.pageX - startCoords.pageX;\n        hDistancePercent = hDistance * 100 / winWidth;\n        vDistance = endCoords.pageY - startCoords.pageY;\n        vDistancePercent = vDistance * 100 / winHeight;\n        var opacity;\n        if (vSwipe && mediaImage) {\n          opacity = 1 - Math.abs(vDistance) / winHeight;\n          overlay.style.opacity = opacity;\n          if (instance.settings.touchFollowAxis) {\n            hDistancePercent = 0;\n          }\n        }\n        if (hSwipe) {\n          opacity = 1 - Math.abs(hDistance) / winWidth;\n          media.style.opacity = opacity;\n          if (instance.settings.touchFollowAxis) {\n            vDistancePercent = 0;\n          }\n        }\n        if (!mediaImage) {\n          return cssTransform(media, \"translate3d(\".concat(hDistancePercent, \"%, 0, 0)\"));\n        }\n        cssTransform(media, \"translate3d(\".concat(hDistancePercent, \"%, \").concat(vDistancePercent, \"%, 0)\"));\n      },\n      touchEnd: function touchEnd() {\n        if (!process) {\n          return;\n        }\n        doingMove = false;\n        if (imageZoomed || doingZoom) {\n          lastZoomedPosX = zoomedPosX;\n          lastZoomedPosY = zoomedPosY;\n          return;\n        }\n        var v = Math.abs(parseInt(vDistancePercent));\n        var h = Math.abs(parseInt(hDistancePercent));\n        if (v > 29 && mediaImage) {\n          instance.close();\n          return;\n        }\n        if (v < 29 && h < 25) {\n          addClass(overlay, 'greset');\n          overlay.style.opacity = 1;\n          return resetSlideMove(media);\n        }\n      },\n      multipointEnd: function multipointEnd() {\n        setTimeout(function () {\n          doingZoom = false;\n        }, 50);\n      },\n      multipointStart: function multipointStart() {\n        doingZoom = true;\n        initScale = currentScale ? currentScale : 1;\n      },\n      pinch: function pinch(evt) {\n        if (!mediaImage || doingMove) {\n          return false;\n        }\n        doingZoom = true;\n        mediaImage.scaleX = mediaImage.scaleY = initScale * evt.zoom;\n        var scale = initScale * evt.zoom;\n        imageZoomed = true;\n        if (scale <= 1) {\n          imageZoomed = false;\n          scale = 1;\n          lastZoomedPosY = null;\n          lastZoomedPosX = null;\n          zoomedPosX = null;\n          zoomedPosY = null;\n          mediaImage.setAttribute('style', '');\n          return;\n        }\n        if (scale > maxScale) {\n          scale = maxScale;\n        }\n        mediaImage.style.transform = \"scale3d(\".concat(scale, \", \").concat(scale, \", 1)\");\n        currentScale = scale;\n      },\n      pressMove: function pressMove(e) {\n        if (imageZoomed && !doingZoom) {\n          var mhDistance = endCoords.pageX - startCoords.pageX;\n          var mvDistance = endCoords.pageY - startCoords.pageY;\n          if (lastZoomedPosX) {\n            mhDistance = mhDistance + lastZoomedPosX;\n          }\n          if (lastZoomedPosY) {\n            mvDistance = mvDistance + lastZoomedPosY;\n          }\n          zoomedPosX = mhDistance;\n          zoomedPosY = mvDistance;\n          var style = \"translate3d(\".concat(mhDistance, \"px, \").concat(mvDistance, \"px, 0)\");\n          if (currentScale) {\n            style += \" scale3d(\".concat(currentScale, \", \").concat(currentScale, \", 1)\");\n          }\n          cssTransform(mediaImage, style);\n        }\n      },\n      swipe: function swipe(evt) {\n        if (imageZoomed) {\n          return;\n        }\n        if (doingZoom) {\n          doingZoom = false;\n          return;\n        }\n        if (evt.direction == 'Left') {\n          if (instance.index == instance.elements.length - 1) {\n            return resetSlideMove(media);\n          }\n          instance.nextSlide();\n        }\n        if (evt.direction == 'Right') {\n          if (instance.index == 0) {\n            return resetSlideMove(media);\n          }\n          instance.prevSlide();\n        }\n      }\n    });\n    instance.events['touch'] = touchInstance;\n  }\n  var _version = '3.3.0';\n  var isMobile$1 = isMobile();\n  var isTouch$1 = isTouch();\n  var html = document.getElementsByTagName('html')[0];\n  var defaults = {\n    selector: '.glightbox',\n    elements: null,\n    skin: 'clean',\n    theme: 'clean',\n    closeButton: true,\n    startAt: null,\n    autoplayVideos: true,\n    autofocusVideos: true,\n    descPosition: 'bottom',\n    width: '900px',\n    height: '506px',\n    videosWidth: '960px',\n    beforeSlideChange: null,\n    afterSlideChange: null,\n    beforeSlideLoad: null,\n    afterSlideLoad: null,\n    slideInserted: null,\n    slideRemoved: null,\n    slideExtraAttributes: null,\n    onOpen: null,\n    onClose: null,\n    loop: false,\n    zoomable: true,\n    draggable: true,\n    dragAutoSnap: false,\n    dragToleranceX: 40,\n    dragToleranceY: 65,\n    preload: true,\n    oneSlidePerOpen: false,\n    touchNavigation: true,\n    touchFollowAxis: true,\n    keyboardNavigation: true,\n    closeOnOutsideClick: true,\n    plugins: false,\n    plyr: {\n      css: 'https://cdn.plyr.io/3.6.12/plyr.css',\n      js: 'https://cdn.plyr.io/3.6.12/plyr.js',\n      config: {\n        ratio: '16:9',\n        fullscreen: {\n          enabled: true,\n          iosNative: true\n        },\n        youtube: {\n          noCookie: true,\n          rel: 0,\n          showinfo: 0,\n          iv_load_policy: 3\n        },\n        vimeo: {\n          byline: false,\n          portrait: false,\n          title: false,\n          transparent: false\n        }\n      }\n    },\n    openEffect: 'zoom',\n    closeEffect: 'zoom',\n    slideEffect: 'slide',\n    moreText: 'See more',\n    moreLength: 60,\n    cssEfects: {\n      fade: {\n        \"in\": 'fadeIn',\n        out: 'fadeOut'\n      },\n      zoom: {\n        \"in\": 'zoomIn',\n        out: 'zoomOut'\n      },\n      slide: {\n        \"in\": 'slideInRight',\n        out: 'slideOutLeft'\n      },\n      slideBack: {\n        \"in\": 'slideInLeft',\n        out: 'slideOutRight'\n      },\n      none: {\n        \"in\": 'none',\n        out: 'none'\n      }\n    },\n    svg: {\n      close: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',\n      next: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',\n      prev: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'\n    }\n  };\n  defaults.slideHTML = \"<div class=\\\"gslide\\\">\\n    <div class=\\\"gslide-inner-content\\\">\\n        <div class=\\\"ginner-container\\\">\\n            <div class=\\\"gslide-media\\\">\\n            </div>\\n            <div class=\\\"gslide-description\\\">\\n                <div class=\\\"gdesc-inner\\\">\\n                    <h4 class=\\\"gslide-title\\\"></h4>\\n                    <div class=\\\"gslide-desc\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n  defaults.lightboxHTML = \"<div id=\\\"glightbox-body\\\" class=\\\"glightbox-container\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-hidden=\\\"false\\\">\\n    <div class=\\\"gloader visible\\\"></div>\\n    <div class=\\\"goverlay\\\"></div>\\n    <div class=\\\"gcontainer\\\">\\n    <div id=\\\"glightbox-slider\\\" class=\\\"gslider\\\"></div>\\n    <button class=\\\"gclose gbtn\\\" aria-label=\\\"Close\\\" data-taborder=\\\"3\\\">{closeSVG}</button>\\n    <button class=\\\"gprev gbtn\\\" aria-label=\\\"Previous\\\" data-taborder=\\\"2\\\">{prevSVG}</button>\\n    <button class=\\\"gnext gbtn\\\" aria-label=\\\"Next\\\" data-taborder=\\\"1\\\">{nextSVG}</button>\\n</div>\\n</div>\";\n  var GlightboxInit = function () {\n    function GlightboxInit() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, GlightboxInit);\n      this.customOptions = options;\n      this.settings = extend(defaults, options);\n      this.effectsClasses = this.getAnimationClasses();\n      this.videoPlayers = {};\n      this.apiEvents = [];\n      this.fullElementsList = false;\n    }\n    return _createClass(GlightboxInit, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var selector = this.getSelector();\n        if (selector) {\n          this.baseEvents = addEvent('click', {\n            onElement: selector,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this.open(target);\n            }\n          });\n        }\n        this.elements = this.getElements();\n      }\n    }, {\n      key: \"open\",\n      value: function open() {\n        var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var startAt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        if (this.elements.length === 0) {\n          return false;\n        }\n        this.activeSlide = null;\n        this.prevActiveSlideIndex = null;\n        this.prevActiveSlide = null;\n        var index = isNumber(startAt) ? startAt : this.settings.startAt;\n        if (isNode(element)) {\n          var gallery = element.getAttribute('data-gallery');\n          if (gallery) {\n            this.fullElementsList = this.elements;\n            this.elements = this.getGalleryElements(this.elements, gallery);\n          }\n          if (isNil(index)) {\n            index = this.getElementIndex(element);\n            if (index < 0) {\n              index = 0;\n            }\n          }\n        }\n        if (!isNumber(index)) {\n          index = 0;\n        }\n        this.build();\n        animateElement(this.overlay, this.settings.openEffect === 'none' ? 'none' : this.settings.cssEfects.fade[\"in\"]);\n        var body = document.body;\n        var scrollBar = window.innerWidth - document.documentElement.clientWidth;\n        if (scrollBar > 0) {\n          var styleSheet = document.createElement('style');\n          styleSheet.type = 'text/css';\n          styleSheet.className = 'gcss-styles';\n          styleSheet.innerText = \".gscrollbar-fixer {margin-right: \".concat(scrollBar, \"px}\");\n          document.head.appendChild(styleSheet);\n          addClass(body, 'gscrollbar-fixer');\n        }\n        addClass(body, 'glightbox-open');\n        addClass(html, 'glightbox-open');\n        if (isMobile$1) {\n          addClass(document.body, 'glightbox-mobile');\n          this.settings.slideEffect = 'slide';\n        }\n        this.showSlide(index, true);\n        if (this.elements.length === 1) {\n          addClass(this.prevButton, 'glightbox-button-hidden');\n          addClass(this.nextButton, 'glightbox-button-hidden');\n        } else {\n          removeClass(this.prevButton, 'glightbox-button-hidden');\n          removeClass(this.nextButton, 'glightbox-button-hidden');\n        }\n        this.lightboxOpen = true;\n        this.trigger('open');\n        if (isFunction(this.settings.onOpen)) {\n          this.settings.onOpen();\n        }\n        if (isTouch$1 && this.settings.touchNavigation) {\n          touchNavigation(this);\n        }\n        if (this.settings.keyboardNavigation) {\n          keyboardNavigation(this);\n        }\n      }\n    }, {\n      key: \"openAt\",\n      value: function openAt() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        this.open(null, index);\n      }\n    }, {\n      key: \"showSlide\",\n      value: function showSlide() {\n        var _this2 = this;\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var first = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        show(this.loader);\n        this.index = parseInt(index);\n        var current = this.slidesContainer.querySelector('.current');\n        if (current) {\n          removeClass(current, 'current');\n        }\n        this.slideAnimateOut();\n        var slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (hasClass(slideNode, 'loaded')) {\n          this.slideAnimateIn(slideNode, first);\n          hide(this.loader);\n        } else {\n          show(this.loader);\n          var slide = this.elements[index];\n          var slideData = {\n            index: this.index,\n            slide: slideNode,\n            slideNode: slideNode,\n            slideConfig: slide.slideConfig,\n            slideIndex: this.index,\n            trigger: slide.node,\n            player: null\n          };\n          this.trigger('slide_before_load', slideData);\n          slide.instance.setContent(slideNode, function () {\n            hide(_this2.loader);\n            _this2.resize();\n            _this2.slideAnimateIn(slideNode, first);\n            _this2.trigger('slide_after_load', slideData);\n          });\n        }\n        this.slideDescription = slideNode.querySelector('.gslide-description');\n        this.slideDescriptionContained = this.slideDescription && hasClass(this.slideDescription.parentNode, 'gslide-media');\n        if (this.settings.preload) {\n          this.preloadSlide(index + 1);\n          this.preloadSlide(index - 1);\n        }\n        this.updateNavigationClasses();\n        this.activeSlide = slideNode;\n      }\n    }, {\n      key: \"preloadSlide\",\n      value: function preloadSlide(index) {\n        var _this3 = this;\n        if (index < 0 || index > this.elements.length - 1) {\n          return false;\n        }\n        if (isNil(this.elements[index])) {\n          return false;\n        }\n        var slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (hasClass(slideNode, 'loaded')) {\n          return false;\n        }\n        var slide = this.elements[index];\n        var type = slide.type;\n        var slideData = {\n          index: index,\n          slide: slideNode,\n          slideNode: slideNode,\n          slideConfig: slide.slideConfig,\n          slideIndex: index,\n          trigger: slide.node,\n          player: null\n        };\n        this.trigger('slide_before_load', slideData);\n        if (type === 'video' || type === 'external') {\n          setTimeout(function () {\n            slide.instance.setContent(slideNode, function () {\n              _this3.trigger('slide_after_load', slideData);\n            });\n          }, 200);\n        } else {\n          slide.instance.setContent(slideNode, function () {\n            _this3.trigger('slide_after_load', slideData);\n          });\n        }\n      }\n    }, {\n      key: \"prevSlide\",\n      value: function prevSlide() {\n        this.goToSlide(this.index - 1);\n      }\n    }, {\n      key: \"nextSlide\",\n      value: function nextSlide() {\n        this.goToSlide(this.index + 1);\n      }\n    }, {\n      key: \"goToSlide\",\n      value: function goToSlide() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        this.prevActiveSlide = this.activeSlide;\n        this.prevActiveSlideIndex = this.index;\n        if (!this.loop() && (index < 0 || index > this.elements.length - 1)) {\n          return false;\n        }\n        if (index < 0) {\n          index = this.elements.length - 1;\n        } else if (index >= this.elements.length) {\n          index = 0;\n        }\n        this.showSlide(index);\n      }\n    }, {\n      key: \"insertSlide\",\n      value: function insertSlide() {\n        var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n        if (index < 0) {\n          index = this.elements.length;\n        }\n        var slide = new Slide(config, this, index);\n        var data = slide.getConfig();\n        var slideInfo = extend({}, data);\n        var newSlide = slide.create();\n        var totalSlides = this.elements.length - 1;\n        slideInfo.index = index;\n        slideInfo.node = false;\n        slideInfo.instance = slide;\n        slideInfo.slideConfig = data;\n        this.elements.splice(index, 0, slideInfo);\n        var addedSlideNode = null;\n        var addedSlidePlayer = null;\n        if (this.slidesContainer) {\n          if (index > totalSlides) {\n            this.slidesContainer.appendChild(newSlide);\n          } else {\n            var existingSlide = this.slidesContainer.querySelectorAll('.gslide')[index];\n            this.slidesContainer.insertBefore(newSlide, existingSlide);\n          }\n          if (this.settings.preload && this.index == 0 && index == 0 || this.index - 1 == index || this.index + 1 == index) {\n            this.preloadSlide(index);\n          }\n          if (this.index === 0 && index === 0) {\n            this.index = 1;\n          }\n          this.updateNavigationClasses();\n          addedSlideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n          addedSlidePlayer = this.getSlidePlayerInstance(index);\n          slideInfo.slideNode = addedSlideNode;\n        }\n        this.trigger('slide_inserted', {\n          index: index,\n          slide: addedSlideNode,\n          slideNode: addedSlideNode,\n          slideConfig: data,\n          slideIndex: index,\n          trigger: null,\n          player: addedSlidePlayer\n        });\n        if (isFunction(this.settings.slideInserted)) {\n          this.settings.slideInserted({\n            index: index,\n            slide: addedSlideNode,\n            player: addedSlidePlayer\n          });\n        }\n      }\n    }, {\n      key: \"removeSlide\",\n      value: function removeSlide() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n        if (index < 0 || index > this.elements.length - 1) {\n          return false;\n        }\n        var slide = this.slidesContainer && this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (slide) {\n          if (this.getActiveSlideIndex() == index) {\n            if (index == this.elements.length - 1) {\n              this.prevSlide();\n            } else {\n              this.nextSlide();\n            }\n          }\n          slide.parentNode.removeChild(slide);\n        }\n        this.elements.splice(index, 1);\n        this.trigger('slide_removed', index);\n        if (isFunction(this.settings.slideRemoved)) {\n          this.settings.slideRemoved(index);\n        }\n      }\n    }, {\n      key: \"slideAnimateIn\",\n      value: function slideAnimateIn(slide, first) {\n        var _this4 = this;\n        var slideMedia = slide.querySelector('.gslide-media');\n        var slideDesc = slide.querySelector('.gslide-description');\n        var prevData = {\n          index: this.prevActiveSlideIndex,\n          slide: this.prevActiveSlide,\n          slideNode: this.prevActiveSlide,\n          slideIndex: this.prevActiveSlide,\n          slideConfig: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n          trigger: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n          player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n        };\n        var nextData = {\n          index: this.index,\n          slide: this.activeSlide,\n          slideNode: this.activeSlide,\n          slideConfig: this.elements[this.index].slideConfig,\n          slideIndex: this.index,\n          trigger: this.elements[this.index].node,\n          player: this.getSlidePlayerInstance(this.index)\n        };\n        if (slideMedia.offsetWidth > 0 && slideDesc) {\n          hide(slideDesc);\n          slideDesc.style.display = '';\n        }\n        removeClass(slide, this.effectsClasses);\n        if (first) {\n          animateElement(slide, this.settings.cssEfects[this.settings.openEffect][\"in\"], function () {\n            if (_this4.settings.autoplayVideos) {\n              _this4.slidePlayerPlay(slide);\n            }\n            _this4.trigger('slide_changed', {\n              prev: prevData,\n              current: nextData\n            });\n            if (isFunction(_this4.settings.afterSlideChange)) {\n              _this4.settings.afterSlideChange.apply(_this4, [prevData, nextData]);\n            }\n          });\n        } else {\n          var effectName = this.settings.slideEffect;\n          var animIn = effectName !== 'none' ? this.settings.cssEfects[effectName][\"in\"] : effectName;\n          if (this.prevActiveSlideIndex > this.index) {\n            if (this.settings.slideEffect == 'slide') {\n              animIn = this.settings.cssEfects.slideBack[\"in\"];\n            }\n          }\n          animateElement(slide, animIn, function () {\n            if (_this4.settings.autoplayVideos) {\n              _this4.slidePlayerPlay(slide);\n            }\n            _this4.trigger('slide_changed', {\n              prev: prevData,\n              current: nextData\n            });\n            if (isFunction(_this4.settings.afterSlideChange)) {\n              _this4.settings.afterSlideChange.apply(_this4, [prevData, nextData]);\n            }\n          });\n        }\n        setTimeout(function () {\n          _this4.resize(slide);\n        }, 100);\n        addClass(slide, 'current');\n      }\n    }, {\n      key: \"slideAnimateOut\",\n      value: function slideAnimateOut() {\n        if (!this.prevActiveSlide) {\n          return false;\n        }\n        var prevSlide = this.prevActiveSlide;\n        removeClass(prevSlide, this.effectsClasses);\n        addClass(prevSlide, 'prev');\n        var animation = this.settings.slideEffect;\n        var animOut = animation !== 'none' ? this.settings.cssEfects[animation].out : animation;\n        this.slidePlayerPause(prevSlide);\n        this.trigger('slide_before_change', {\n          prev: {\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide,\n            slideNode: this.prevActiveSlide,\n            slideIndex: this.prevActiveSlideIndex,\n            slideConfig: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n            trigger: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n          },\n          current: {\n            index: this.index,\n            slide: this.activeSlide,\n            slideNode: this.activeSlide,\n            slideIndex: this.index,\n            slideConfig: this.elements[this.index].slideConfig,\n            trigger: this.elements[this.index].node,\n            player: this.getSlidePlayerInstance(this.index)\n          }\n        });\n        if (isFunction(this.settings.beforeSlideChange)) {\n          this.settings.beforeSlideChange.apply(this, [{\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n          }, {\n            index: this.index,\n            slide: this.activeSlide,\n            player: this.getSlidePlayerInstance(this.index)\n          }]);\n        }\n        if (this.prevActiveSlideIndex > this.index && this.settings.slideEffect == 'slide') {\n          animOut = this.settings.cssEfects.slideBack.out;\n        }\n        animateElement(prevSlide, animOut, function () {\n          var container = prevSlide.querySelector('.ginner-container');\n          var media = prevSlide.querySelector('.gslide-media');\n          var desc = prevSlide.querySelector('.gslide-description');\n          container.style.transform = '';\n          media.style.transform = '';\n          removeClass(media, 'greset');\n          media.style.opacity = '';\n          if (desc) {\n            desc.style.opacity = '';\n          }\n          removeClass(prevSlide, 'prev');\n        });\n      }\n    }, {\n      key: \"getAllPlayers\",\n      value: function getAllPlayers() {\n        return this.videoPlayers;\n      }\n    }, {\n      key: \"getSlidePlayerInstance\",\n      value: function getSlidePlayerInstance(index) {\n        var id = 'gvideo' + index;\n        var videoPlayers = this.getAllPlayers();\n        if (has(videoPlayers, id) && videoPlayers[id]) {\n          return videoPlayers[id];\n        }\n        return false;\n      }\n    }, {\n      key: \"stopSlideVideo\",\n      value: function stopSlideVideo(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        console.log('stopSlideVideo is deprecated, use slidePlayerPause');\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && player.playing) {\n          player.pause();\n        }\n      }\n    }, {\n      key: \"slidePlayerPause\",\n      value: function slidePlayerPause(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && player.playing) {\n          player.pause();\n        }\n      }\n    }, {\n      key: \"playSlideVideo\",\n      value: function playSlideVideo(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        console.log('playSlideVideo is deprecated, use slidePlayerPlay');\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && !player.playing) {\n          player.play();\n        }\n      }\n    }, {\n      key: \"slidePlayerPlay\",\n      value: function slidePlayerPlay(slide) {\n        var _this$settings$plyr$c;\n        if (isMobile$1 && !((_this$settings$plyr$c = this.settings.plyr.config) !== null && _this$settings$plyr$c !== void 0 && _this$settings$plyr$c.muted)) {\n          return;\n        }\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && !player.playing) {\n          player.play();\n          if (this.settings.autofocusVideos) {\n            player.elements.container.focus();\n          }\n        }\n      }\n    }, {\n      key: \"setElements\",\n      value: function setElements(elements) {\n        var _this5 = this;\n        this.settings.elements = false;\n        var newElements = [];\n        if (elements && elements.length) {\n          each(elements, function (el, i) {\n            var slide = new Slide(el, _this5, i);\n            var data = slide.getConfig();\n            var slideInfo = extend({}, data);\n            slideInfo.slideConfig = data;\n            slideInfo.instance = slide;\n            slideInfo.index = i;\n            newElements.push(slideInfo);\n          });\n        }\n        this.elements = newElements;\n        if (this.lightboxOpen) {\n          this.slidesContainer.innerHTML = '';\n          if (this.elements.length) {\n            each(this.elements, function () {\n              var slide = createHTML(_this5.settings.slideHTML);\n              _this5.slidesContainer.appendChild(slide);\n            });\n            this.showSlide(0, true);\n          }\n        }\n      }\n    }, {\n      key: \"getElementIndex\",\n      value: function getElementIndex(node) {\n        var index = false;\n        each(this.elements, function (el, i) {\n          if (has(el, 'node') && el.node == node) {\n            index = i;\n            return true;\n          }\n        });\n        return index;\n      }\n    }, {\n      key: \"getElements\",\n      value: function getElements() {\n        var _this6 = this;\n        var list = [];\n        this.elements = this.elements ? this.elements : [];\n        if (!isNil(this.settings.elements) && isArray(this.settings.elements) && this.settings.elements.length) {\n          each(this.settings.elements, function (el, i) {\n            var slide = new Slide(el, _this6, i);\n            var elData = slide.getConfig();\n            var slideInfo = extend({}, elData);\n            slideInfo.node = false;\n            slideInfo.index = i;\n            slideInfo.instance = slide;\n            slideInfo.slideConfig = elData;\n            list.push(slideInfo);\n          });\n        }\n        var nodes = false;\n        var selector = this.getSelector();\n        if (selector) {\n          nodes = document.querySelectorAll(this.getSelector());\n        }\n        if (!nodes) {\n          return list;\n        }\n        each(nodes, function (el, i) {\n          var slide = new Slide(el, _this6, i);\n          var elData = slide.getConfig();\n          var slideInfo = extend({}, elData);\n          slideInfo.node = el;\n          slideInfo.index = i;\n          slideInfo.instance = slide;\n          slideInfo.slideConfig = elData;\n          slideInfo.gallery = el.getAttribute('data-gallery');\n          list.push(slideInfo);\n        });\n        return list;\n      }\n    }, {\n      key: \"getGalleryElements\",\n      value: function getGalleryElements(list, gallery) {\n        return list.filter(function (el) {\n          return el.gallery == gallery;\n        });\n      }\n    }, {\n      key: \"getSelector\",\n      value: function getSelector() {\n        if (this.settings.elements) {\n          return false;\n        }\n        if (this.settings.selector && this.settings.selector.substring(0, 5) == 'data-') {\n          return \"*[\".concat(this.settings.selector, \"]\");\n        }\n        return this.settings.selector;\n      }\n    }, {\n      key: \"getActiveSlide\",\n      value: function getActiveSlide() {\n        return this.slidesContainer.querySelectorAll('.gslide')[this.index];\n      }\n    }, {\n      key: \"getActiveSlideIndex\",\n      value: function getActiveSlideIndex() {\n        return this.index;\n      }\n    }, {\n      key: \"getAnimationClasses\",\n      value: function getAnimationClasses() {\n        var effects = [];\n        for (var key in this.settings.cssEfects) {\n          if (this.settings.cssEfects.hasOwnProperty(key)) {\n            var effect = this.settings.cssEfects[key];\n            effects.push(\"g\".concat(effect[\"in\"]));\n            effects.push(\"g\".concat(effect.out));\n          }\n        }\n        return effects.join(' ');\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        var _this7 = this;\n        if (this.built) {\n          return false;\n        }\n        var children = document.body.childNodes;\n        var bodyChildElms = [];\n        each(children, function (el) {\n          if (el.parentNode == document.body && el.nodeName.charAt(0) !== '#' && el.hasAttribute && !el.hasAttribute('aria-hidden')) {\n            bodyChildElms.push(el);\n            el.setAttribute('aria-hidden', 'true');\n          }\n        });\n        var nextSVG = has(this.settings.svg, 'next') ? this.settings.svg.next : '';\n        var prevSVG = has(this.settings.svg, 'prev') ? this.settings.svg.prev : '';\n        var closeSVG = has(this.settings.svg, 'close') ? this.settings.svg.close : '';\n        var lightboxHTML = this.settings.lightboxHTML;\n        lightboxHTML = lightboxHTML.replace(/{nextSVG}/g, nextSVG);\n        lightboxHTML = lightboxHTML.replace(/{prevSVG}/g, prevSVG);\n        lightboxHTML = lightboxHTML.replace(/{closeSVG}/g, closeSVG);\n        lightboxHTML = createHTML(lightboxHTML);\n        document.body.appendChild(lightboxHTML);\n        var modal = document.getElementById('glightbox-body');\n        this.modal = modal;\n        var closeButton = modal.querySelector('.gclose');\n        this.prevButton = modal.querySelector('.gprev');\n        this.nextButton = modal.querySelector('.gnext');\n        this.overlay = modal.querySelector('.goverlay');\n        this.loader = modal.querySelector('.gloader');\n        this.slidesContainer = document.getElementById('glightbox-slider');\n        this.bodyHiddenChildElms = bodyChildElms;\n        this.events = {};\n        addClass(this.modal, 'glightbox-' + this.settings.skin);\n        if (this.settings.closeButton && closeButton) {\n          this.events['close'] = addEvent('click', {\n            onElement: closeButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.close();\n            }\n          });\n        }\n        if (closeButton && !this.settings.closeButton) {\n          closeButton.parentNode.removeChild(closeButton);\n        }\n        if (this.nextButton) {\n          this.events['next'] = addEvent('click', {\n            onElement: this.nextButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.nextSlide();\n            }\n          });\n        }\n        if (this.prevButton) {\n          this.events['prev'] = addEvent('click', {\n            onElement: this.prevButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.prevSlide();\n            }\n          });\n        }\n        if (this.settings.closeOnOutsideClick) {\n          this.events['outClose'] = addEvent('click', {\n            onElement: modal,\n            withCallback: function withCallback(e, target) {\n              if (!_this7.preventOutsideClick && !hasClass(document.body, 'glightbox-mobile') && !closest(e.target, '.ginner-container')) {\n                if (!closest(e.target, '.gbtn') && !hasClass(e.target, 'gnext') && !hasClass(e.target, 'gprev')) {\n                  _this7.close();\n                }\n              }\n            }\n          });\n        }\n        each(this.elements, function (slide, i) {\n          _this7.slidesContainer.appendChild(slide.instance.create());\n          slide.slideNode = _this7.slidesContainer.querySelectorAll('.gslide')[i];\n        });\n        if (isTouch$1) {\n          addClass(document.body, 'glightbox-touch');\n        }\n        this.events['resize'] = addEvent('resize', {\n          onElement: window,\n          withCallback: function withCallback() {\n            _this7.resize();\n          }\n        });\n        this.built = true;\n      }\n    }, {\n      key: \"resize\",\n      value: function resize() {\n        var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        slide = !slide ? this.activeSlide : slide;\n        if (!slide || hasClass(slide, 'zoomed')) {\n          return;\n        }\n        var winSize = windowSize();\n        var video = slide.querySelector('.gvideo-wrapper');\n        var image = slide.querySelector('.gslide-image');\n        var description = this.slideDescription;\n        var winWidth = winSize.width;\n        var winHeight = winSize.height;\n        if (winWidth <= 768) {\n          addClass(document.body, 'glightbox-mobile');\n        } else {\n          removeClass(document.body, 'glightbox-mobile');\n        }\n        if (!video && !image) {\n          return;\n        }\n        var descriptionResize = false;\n        if (description && (hasClass(description, 'description-bottom') || hasClass(description, 'description-top')) && !hasClass(description, 'gabsolute')) {\n          descriptionResize = true;\n        }\n        if (image) {\n          if (winWidth <= 768) {\n            var imgNode = image.querySelector('img');\n          } else if (descriptionResize) {\n            var _slideTriggerNode$get;\n            var descHeight = description.offsetHeight;\n            var _imgNode = image.querySelector('img');\n            var slideTriggerNode = this.elements[this.index].node;\n            var maxHeightValue = (_slideTriggerNode$get = slideTriggerNode.getAttribute('data-height')) !== null && _slideTriggerNode$get !== void 0 ? _slideTriggerNode$get : '100vh';\n            _imgNode.setAttribute('style', \"max-height: calc(\".concat(maxHeightValue, \" - \").concat(descHeight, \"px)\"));\n            description.setAttribute('style', \"max-width: \".concat(_imgNode.offsetWidth, \"px;\"));\n          }\n        }\n        if (video) {\n          var ratio = has(this.settings.plyr.config, 'ratio') ? this.settings.plyr.config.ratio : '';\n          if (!ratio) {\n            var containerWidth = video.clientWidth;\n            var containerHeight = video.clientHeight;\n            var divisor = containerWidth / containerHeight;\n            ratio = \"\".concat(containerWidth / divisor, \":\").concat(containerHeight / divisor);\n          }\n          var videoRatio = ratio.split(':');\n          var videoWidth = this.settings.videosWidth;\n          var maxWidth = this.settings.videosWidth;\n          if (isNumber(videoWidth) || videoWidth.indexOf('px') !== -1) {\n            maxWidth = parseInt(videoWidth);\n          } else {\n            if (videoWidth.indexOf('vw') !== -1) {\n              maxWidth = winWidth * parseInt(videoWidth) / 100;\n            } else if (videoWidth.indexOf('vh') !== -1) {\n              maxWidth = winHeight * parseInt(videoWidth) / 100;\n            } else if (videoWidth.indexOf('%') !== -1) {\n              maxWidth = winWidth * parseInt(videoWidth) / 100;\n            } else {\n              maxWidth = parseInt(video.clientWidth);\n            }\n          }\n          var maxHeight = maxWidth / (parseInt(videoRatio[0]) / parseInt(videoRatio[1]));\n          maxHeight = Math.floor(maxHeight);\n          if (descriptionResize) {\n            winHeight = winHeight - description.offsetHeight;\n          }\n          if (maxWidth > winWidth || maxHeight > winHeight || winHeight < maxHeight && winWidth > maxWidth) {\n            var vwidth = video.offsetWidth;\n            var vheight = video.offsetHeight;\n            var _ratio = winHeight / vheight;\n            var vsize = {\n              width: vwidth * _ratio,\n              height: vheight * _ratio\n            };\n            video.parentNode.setAttribute('style', \"max-width: \".concat(vsize.width, \"px\"));\n            if (descriptionResize) {\n              description.setAttribute('style', \"max-width: \".concat(vsize.width, \"px;\"));\n            }\n          } else {\n            video.parentNode.style.maxWidth = \"\".concat(videoWidth);\n            if (descriptionResize) {\n              description.setAttribute('style', \"max-width: \".concat(videoWidth, \";\"));\n            }\n          }\n        }\n      }\n    }, {\n      key: \"reload\",\n      value: function reload() {\n        this.init();\n      }\n    }, {\n      key: \"updateNavigationClasses\",\n      value: function updateNavigationClasses() {\n        var loop = this.loop();\n        removeClass(this.nextButton, 'disabled');\n        removeClass(this.prevButton, 'disabled');\n        if (this.index == 0 && this.elements.length - 1 == 0) {\n          addClass(this.prevButton, 'disabled');\n          addClass(this.nextButton, 'disabled');\n        } else if (this.index === 0 && !loop) {\n          addClass(this.prevButton, 'disabled');\n        } else if (this.index === this.elements.length - 1 && !loop) {\n          addClass(this.nextButton, 'disabled');\n        }\n      }\n    }, {\n      key: \"loop\",\n      value: function loop() {\n        var loop = has(this.settings, 'loopAtEnd') ? this.settings.loopAtEnd : null;\n        loop = has(this.settings, 'loop') ? this.settings.loop : loop;\n        return loop;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this8 = this;\n        if (!this.lightboxOpen) {\n          if (this.events) {\n            for (var key in this.events) {\n              if (this.events.hasOwnProperty(key)) {\n                this.events[key].destroy();\n              }\n            }\n            this.events = null;\n          }\n          return false;\n        }\n        if (this.closing) {\n          return false;\n        }\n        this.closing = true;\n        this.slidePlayerPause(this.activeSlide);\n        if (this.fullElementsList) {\n          this.elements = this.fullElementsList;\n        }\n        if (this.bodyHiddenChildElms.length) {\n          each(this.bodyHiddenChildElms, function (el) {\n            el.removeAttribute('aria-hidden');\n          });\n        }\n        addClass(this.modal, 'glightbox-closing');\n        animateElement(this.overlay, this.settings.openEffect == 'none' ? 'none' : this.settings.cssEfects.fade.out);\n        animateElement(this.activeSlide, this.settings.cssEfects[this.settings.closeEffect].out, function () {\n          _this8.activeSlide = null;\n          _this8.prevActiveSlideIndex = null;\n          _this8.prevActiveSlide = null;\n          _this8.built = false;\n          if (_this8.events) {\n            for (var _key in _this8.events) {\n              if (_this8.events.hasOwnProperty(_key)) {\n                _this8.events[_key].destroy();\n              }\n            }\n            _this8.events = null;\n          }\n          var body = document.body;\n          removeClass(html, 'glightbox-open');\n          removeClass(body, 'glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer');\n          _this8.modal.parentNode.removeChild(_this8.modal);\n          _this8.trigger('close');\n          if (isFunction(_this8.settings.onClose)) {\n            _this8.settings.onClose();\n          }\n          var styles = document.querySelector('.gcss-styles');\n          if (styles) {\n            styles.parentNode.removeChild(styles);\n          }\n          _this8.lightboxOpen = false;\n          _this8.closing = null;\n        });\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.close();\n        this.clearAllEvents();\n        if (this.baseEvents) {\n          this.baseEvents.destroy();\n        }\n      }\n    }, {\n      key: \"on\",\n      value: function on(evt, callback) {\n        var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        if (!evt || !isFunction(callback)) {\n          throw new TypeError('Event name and callback must be defined');\n        }\n        this.apiEvents.push({\n          evt: evt,\n          once: once,\n          callback: callback\n        });\n      }\n    }, {\n      key: \"once\",\n      value: function once(evt, callback) {\n        this.on(evt, callback, true);\n      }\n    }, {\n      key: \"trigger\",\n      value: function trigger(eventName) {\n        var _this9 = this;\n        var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var onceTriggered = [];\n        each(this.apiEvents, function (event, i) {\n          var evt = event.evt,\n            once = event.once,\n            callback = event.callback;\n          if (evt == eventName) {\n            callback(data);\n            if (once) {\n              onceTriggered.push(i);\n            }\n          }\n        });\n        if (onceTriggered.length) {\n          each(onceTriggered, function (i) {\n            return _this9.apiEvents.splice(i, 1);\n          });\n        }\n      }\n    }, {\n      key: \"clearAllEvents\",\n      value: function clearAllEvents() {\n        this.apiEvents.splice(0, this.apiEvents.length);\n      }\n    }, {\n      key: \"version\",\n      value: function version() {\n        return _version;\n      }\n    }]);\n  }();\n  function glightbox() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var instance = new GlightboxInit(options);\n    instance.init();\n    return instance;\n  }\n  return glightbox;\n});","map":{"version":3,"names":["global","factory","exports","module","define","amd","self","GLightbox","_toPrimitive","t","r","e","Symbol","toPrimitive","i","call","TypeError","String","Number","_toPropertyKey","_typeof","o","iterator","constructor","prototype","_classCallCheck","instance","Constructor","_defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","uid","Date","now","extend","extended","deep","arguments","toString","merge","obj","prop","hasOwnProperty","each","collection","callback","isNode","window","document","isArrayLike","isObject","size","l","has","getNodeEvents","node","name","undefined","fn","cache","data","all","evt","found","cl","eventName","addEvent","_ref","onElement","withCallback","_ref$avoidDuplicate","avoidDuplicate","_ref$once","once","_ref$useCapture","useCapture","thisArg","element","isString","querySelectorAll","handler","event","isFunction","destroy","el","events","splice","removeEventListener","addEventListener","push","addClass","split","classList","add","removeClass","remove","hasClass","contains","closest","elem","selector","body","parentElement","matches","msMatchesSelector","animateElement","animation","animationEnd","whichAnimationEvent","animationNames","cssTransform","translate","style","webkitTransform","MozTransform","msTransform","OTransform","transform","show","display","hide","createHTML","htmlStr","frag","createDocumentFragment","temp","createElement","innerHTML","firstChild","appendChild","windowSize","width","innerWidth","documentElement","clientWidth","height","innerHeight","clientHeight","animations","OAnimation","MozAnimation","WebkitAnimation","whichTransitionEvent","transitions","transition","OTransition","MozTransition","WebkitTransition","createIframe","config","url","allow","appendTo","iframe","className","src","setAttribute","onload","waitUntil","check","onComplete","delay","timeout","timeoutPointer","intervalPointer","setInterval","clearInterval","clearTimeout","setTimeout","injectAssets","waitFor","isNil","console","error","indexOf","head","getElementsByTagName","headStyles","link","rel","type","href","media","insertBefore","script","isMobile","navigator","userAgent","match","isTouch","createTouch","msMaxTouchPoints","f","s","nodeType","isArray","ar","Array","isFinite","keys","k","isNumber","n","isNaN","parseFloat","getNextFocusElement","current","btns","parseInt","orders","btn","getAttribute","highestOrder","Math","max","apply","map","order","newIndex","nextOrders","filter","nextFocus","sort","querySelector","concat","keyboardNavigation","keyCode","focusedButton","activeElement","nodeName","toLocaleLowerCase","preventDefault","first","focus","currentFocusOrder","nextSlide","prevSlide","close","ZoomImages","slide","_this","onclose","img","setZoomEvents","active","zoomedIn","dragging","currentX","currentY","initialX","initialY","xOffset","yOffset","dragStart","dragEnd","drag","zoomOut","zoomIn","value","winWidth","widowWidth","maxWidth","naturalWidth","maxHeight","naturalHeight","centerX","setTranslate","parentNode","touches","clientX","clientY","_this2","isDragging","onMove","xPos","yPos","DragSlides","dragEl","_config$toleranceX","toleranceX","_config$toleranceY","toleranceY","_config$slide","_config$instance","direction","lastDirection","toleranceReached","dragContainer","clicked","toLowerCase","exludeClicks","doSlideChange","preventOutsideClick","doSlideClose","currentXInt","abs","currentYInt","doChange","shouldChange","settings","dragAutoSnap","doClose","shouldClose","dragDir","lastChild","animated","slideImage","index","slideMedia","Image","titleID","textID","sizes","srcset","alt","title","description","_hasCustomWidth","_hasCustomHeight","slideVideo","slideContainer","videoID","videoPlayers","getAllPlayers","videoWrapper","plyr","css","provider","videoProvider","customPlaceholder","js","html","placeholder","playerConfig","player","Plyr","on","detail","dataset","ready","resize","handleMediaFullScreen","slideInline","hash","pop","trim","content","innerContent","container","div","getElementById","cloned","cloneNode","slideIframe","SlideConfigParser","slideParamas","defaults","descPosition","effect","zoomable","draggable","sourceType","origin","parseConfig","objectData","setSize","val","nodeData","sanitizeValue","cleanKeys","v","join","str","regex","RegExp","replace","substring","DOMException","nodeDesc","slideConfig","defaultWith","checkSize","videosWidth","defaultHeight","Slide","setContent","isMobileDevice","beforeSlideLoad","position","slideTitle","slideText","slideDesc","finalCallback","afterSlideLoad","getSlidePlayerInstance","removeChild","id","moreLength","smallDescription","slideShortDesc","moreText","descriptionEvents","dragToleranceX","dragToleranceY","offsetWidth","string","wordBoundary","cleanedString","innerText","useWordBoundary","subString","substr","desc","moreLink","shortEvent","create","slideHTML","getConfig","parser","slideExtraAttributes","getLen","sqrt","x","y","dot","v1","v2","getAngle","mr","acos","cross","getRotateAngle","angle","PI","EventsHandlerAdmin","handlers","del","dispatch","len","wrapFunc","EventshandlerAdmin","TouchEvents","option","start","bind","move","end","cancel","preV","pinchStartLen","zoom","isDoubleTap","noop","rotate","touchStart","multipointStart","multipointEnd","pinch","swipe","tap","doubleTap","longTap","singleTap","pressMove","twoFingerPressMove","touchMove","touchEnd","touchCancel","translateContainer","_cancelAllHandler","cancelAll","delta","last","tapTimeout","singleTapTimeout","longTapTimeout","swipeTimeout","x1","x2","y1","y2","preTapPosition","ignoreDragFor","log","pageX","pageY","_cancelLongTap","_cancelSingleTap","_preventTap","sCurrentX","sCurrentY","sx2","deltaX","deltaY","sy2","movedX","movedY","changedTouches","_swipeDirection","off","resetSlideMove","transitionEnd","windowWidth","opacity","touchNavigation","winSize","winHeight","process","currentSlide","mediaImage","doingMove","initScale","maxScale","currentScale","doingZoom","imageZoomed","zoomedPosX","zoomedPosY","lastZoomedPosX","lastZoomedPosY","hDistance","vDistance","hDistancePercent","vDistancePercent","vSwipe","hSwipe","startCoords","endCoords","xDown","yDown","isInlined","sliderWrapper","overlay","touchInstance","targetTouches","activeSlide","offsetHeight","moved","xUp","yUp","xDiff","yDiff","touchFollowAxis","h","scaleX","scaleY","scale","mhDistance","mvDistance","elements","_version","isMobile$1","isTouch$1","skin","theme","closeButton","startAt","autoplayVideos","autofocusVideos","beforeSlideChange","afterSlideChange","slideInserted","slideRemoved","onOpen","onClose","loop","preload","oneSlidePerOpen","closeOnOutsideClick","plugins","ratio","fullscreen","enabled","iosNative","youtube","noCookie","showinfo","iv_load_policy","vimeo","byline","portrait","transparent","openEffect","closeEffect","slideEffect","cssEfects","fade","out","slideBack","none","svg","next","prev","lightboxHTML","GlightboxInit","options","customOptions","effectsClasses","getAnimationClasses","apiEvents","fullElementsList","init","getSelector","baseEvents","open","getElements","prevActiveSlideIndex","prevActiveSlide","gallery","getGalleryElements","getElementIndex","build","scrollBar","styleSheet","showSlide","prevButton","nextButton","lightboxOpen","trigger","openAt","loader","slidesContainer","slideAnimateOut","slideNode","slideAnimateIn","slideData","slideIndex","slideDescription","slideDescriptionContained","preloadSlide","updateNavigationClasses","_this3","goToSlide","insertSlide","slideInfo","newSlide","totalSlides","addedSlideNode","addedSlidePlayer","existingSlide","removeSlide","getActiveSlideIndex","_this4","prevData","nextData","slidePlayerPlay","effectName","animIn","animOut","slidePlayerPause","stopSlideVideo","playing","pause","playSlideVideo","play","_this$settings$plyr$c","muted","setElements","_this5","newElements","_this6","list","elData","nodes","getActiveSlide","effects","_this7","built","children","childNodes","bodyChildElms","charAt","hasAttribute","nextSVG","prevSVG","closeSVG","modal","bodyHiddenChildElms","video","image","descriptionResize","imgNode","_slideTriggerNode$get","descHeight","_imgNode","slideTriggerNode","maxHeightValue","containerWidth","containerHeight","divisor","videoRatio","videoWidth","floor","vwidth","vheight","_ratio","vsize","reload","loopAtEnd","_this8","closing","removeAttribute","_key","styles","clearAllEvents","_this9","onceTriggered","version","glightbox"],"sources":["C:/_dev/trier-digital.github.io/resources/webseite/src/assets/vendor/glightbox/js/glightbox.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.GLightbox = factory());\n}(this, (function () { 'use strict';\n\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _typeof(o) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n      return typeof o;\n    } : function (o) {\n      return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, _typeof(o);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  var uid = Date.now();\n  function extend() {\n    var extended = {};\n    var deep = true;\n    var i = 0;\n    var length = arguments.length;\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n      deep = arguments[0];\n      i++;\n    }\n    var merge = function merge(obj) {\n      for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n            extended[prop] = extend(true, extended[prop], obj[prop]);\n          } else {\n            extended[prop] = obj[prop];\n          }\n        }\n      }\n    };\n    for (; i < length; i++) {\n      var obj = arguments[i];\n      merge(obj);\n    }\n    return extended;\n  }\n  function each(collection, callback) {\n    if (isNode(collection) || collection === window || collection === document) {\n      collection = [collection];\n    }\n    if (!isArrayLike(collection) && !isObject(collection)) {\n      collection = [collection];\n    }\n    if (size(collection) == 0) {\n      return;\n    }\n    if (isArrayLike(collection) && !isObject(collection)) {\n      var l = collection.length,\n        i = 0;\n      for (; i < l; i++) {\n        if (callback.call(collection[i], collection[i], i, collection) === false) {\n          break;\n        }\n      }\n    } else if (isObject(collection)) {\n      for (var key in collection) {\n        if (has(collection, key)) {\n          if (callback.call(collection[key], collection[key], key, collection) === false) {\n            break;\n          }\n        }\n      }\n    }\n  }\n  function getNodeEvents(node) {\n    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var fn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var cache = node[uid] = node[uid] || [];\n    var data = {\n      all: cache,\n      evt: null,\n      found: null\n    };\n    if (name && fn && size(cache) > 0) {\n      each(cache, function (cl, i) {\n        if (cl.eventName == name && cl.fn.toString() == fn.toString()) {\n          data.found = true;\n          data.evt = i;\n          return false;\n        }\n      });\n    }\n    return data;\n  }\n  function addEvent(eventName) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      onElement = _ref.onElement,\n      withCallback = _ref.withCallback,\n      _ref$avoidDuplicate = _ref.avoidDuplicate,\n      avoidDuplicate = _ref$avoidDuplicate === void 0 ? true : _ref$avoidDuplicate,\n      _ref$once = _ref.once,\n      once = _ref$once === void 0 ? false : _ref$once,\n      _ref$useCapture = _ref.useCapture,\n      useCapture = _ref$useCapture === void 0 ? false : _ref$useCapture;\n    var thisArg = arguments.length > 2 ? arguments[2] : undefined;\n    var element = onElement || [];\n    if (isString(element)) {\n      element = document.querySelectorAll(element);\n    }\n    function handler(event) {\n      if (isFunction(withCallback)) {\n        withCallback.call(thisArg, event, this);\n      }\n      if (once) {\n        handler.destroy();\n      }\n    }\n    handler.destroy = function () {\n      each(element, function (el) {\n        var events = getNodeEvents(el, eventName, handler);\n        if (events.found) {\n          events.all.splice(events.evt, 1);\n        }\n        if (el.removeEventListener) {\n          el.removeEventListener(eventName, handler, useCapture);\n        }\n      });\n    };\n    each(element, function (el) {\n      var events = getNodeEvents(el, eventName, handler);\n      if (el.addEventListener && avoidDuplicate && !events.found || !avoidDuplicate) {\n        el.addEventListener(eventName, handler, useCapture);\n        events.all.push({\n          eventName: eventName,\n          fn: handler\n        });\n      }\n    });\n    return handler;\n  }\n  function addClass(node, name) {\n    each(name.split(' '), function (cl) {\n      return node.classList.add(cl);\n    });\n  }\n  function removeClass(node, name) {\n    each(name.split(' '), function (cl) {\n      return node.classList.remove(cl);\n    });\n  }\n  function hasClass(node, name) {\n    return node.classList.contains(name);\n  }\n  function closest(elem, selector) {\n    while (elem !== document.body) {\n      elem = elem.parentElement;\n      if (!elem) {\n        return false;\n      }\n      var matches = typeof elem.matches == 'function' ? elem.matches(selector) : elem.msMatchesSelector(selector);\n      if (matches) {\n        return elem;\n      }\n    }\n  }\n  function animateElement(element) {\n    var animation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (!element || animation === '') {\n      return false;\n    }\n    if (animation === 'none') {\n      if (isFunction(callback)) {\n        callback();\n      }\n      return false;\n    }\n    var animationEnd = whichAnimationEvent();\n    var animationNames = animation.split(' ');\n    each(animationNames, function (name) {\n      addClass(element, 'g' + name);\n    });\n    addEvent(animationEnd, {\n      onElement: element,\n      avoidDuplicate: false,\n      once: true,\n      withCallback: function withCallback(event, target) {\n        each(animationNames, function (name) {\n          removeClass(target, 'g' + name);\n        });\n        if (isFunction(callback)) {\n          callback();\n        }\n      }\n    });\n  }\n  function cssTransform(node) {\n    var translate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    if (translate === '') {\n      node.style.webkitTransform = '';\n      node.style.MozTransform = '';\n      node.style.msTransform = '';\n      node.style.OTransform = '';\n      node.style.transform = '';\n      return false;\n    }\n    node.style.webkitTransform = translate;\n    node.style.MozTransform = translate;\n    node.style.msTransform = translate;\n    node.style.OTransform = translate;\n    node.style.transform = translate;\n  }\n  function show(element) {\n    element.style.display = 'block';\n  }\n  function hide(element) {\n    element.style.display = 'none';\n  }\n  function createHTML(htmlStr) {\n    var frag = document.createDocumentFragment(),\n      temp = document.createElement('div');\n    temp.innerHTML = htmlStr;\n    while (temp.firstChild) {\n      frag.appendChild(temp.firstChild);\n    }\n    return frag;\n  }\n  function windowSize() {\n    return {\n      width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n      height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n    };\n  }\n  function whichAnimationEvent() {\n    var t,\n      el = document.createElement('fakeelement');\n    var animations = {\n      animation: 'animationend',\n      OAnimation: 'oAnimationEnd',\n      MozAnimation: 'animationend',\n      WebkitAnimation: 'webkitAnimationEnd'\n    };\n    for (t in animations) {\n      if (el.style[t] !== undefined) {\n        return animations[t];\n      }\n    }\n  }\n  function whichTransitionEvent() {\n    var t,\n      el = document.createElement('fakeelement');\n    var transitions = {\n      transition: 'transitionend',\n      OTransition: 'oTransitionEnd',\n      MozTransition: 'transitionend',\n      WebkitTransition: 'webkitTransitionEnd'\n    };\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n  }\n  function createIframe(config) {\n    var url = config.url,\n      allow = config.allow,\n      callback = config.callback,\n      appendTo = config.appendTo;\n    var iframe = document.createElement('iframe');\n    iframe.className = 'vimeo-video gvideo';\n    iframe.src = url;\n    iframe.style.width = '100%';\n    iframe.style.height = '100%';\n    if (allow) {\n      iframe.setAttribute('allow', allow);\n    }\n    iframe.onload = function () {\n      iframe.onload = null;\n      addClass(iframe, 'node-ready');\n      if (isFunction(callback)) {\n        callback();\n      }\n    };\n    if (appendTo) {\n      appendTo.appendChild(iframe);\n    }\n    return iframe;\n  }\n  function waitUntil(check, onComplete, delay, timeout) {\n    if (check()) {\n      onComplete();\n      return;\n    }\n    if (!delay) {\n      delay = 100;\n    }\n    var timeoutPointer;\n    var intervalPointer = setInterval(function () {\n      if (!check()) {\n        return;\n      }\n      clearInterval(intervalPointer);\n      if (timeoutPointer) {\n        clearTimeout(timeoutPointer);\n      }\n      onComplete();\n    }, delay);\n    if (timeout) {\n      timeoutPointer = setTimeout(function () {\n        clearInterval(intervalPointer);\n      }, timeout);\n    }\n  }\n  function injectAssets(url, waitFor, callback) {\n    if (isNil(url)) {\n      console.error('Inject assets error');\n      return;\n    }\n    if (isFunction(waitFor)) {\n      callback = waitFor;\n      waitFor = false;\n    }\n    if (isString(waitFor) && waitFor in window) {\n      if (isFunction(callback)) {\n        callback();\n      }\n      return;\n    }\n    var found;\n    if (url.indexOf('.css') !== -1) {\n      found = document.querySelectorAll('link[href=\"' + url + '\"]');\n      if (found && found.length > 0) {\n        if (isFunction(callback)) {\n          callback();\n        }\n        return;\n      }\n      var head = document.getElementsByTagName('head')[0];\n      var headStyles = head.querySelectorAll('link[rel=\"stylesheet\"]');\n      var link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.href = url;\n      link.media = 'all';\n      if (headStyles) {\n        head.insertBefore(link, headStyles[0]);\n      } else {\n        head.appendChild(link);\n      }\n      if (isFunction(callback)) {\n        callback();\n      }\n      return;\n    }\n    found = document.querySelectorAll('script[src=\"' + url + '\"]');\n    if (found && found.length > 0) {\n      if (isFunction(callback)) {\n        if (isString(waitFor)) {\n          waitUntil(function () {\n            return typeof window[waitFor] !== 'undefined';\n          }, function () {\n            callback();\n          });\n          return false;\n        }\n        callback();\n      }\n      return;\n    }\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.onload = function () {\n      if (isFunction(callback)) {\n        if (isString(waitFor)) {\n          waitUntil(function () {\n            return typeof window[waitFor] !== 'undefined';\n          }, function () {\n            callback();\n          });\n          return false;\n        }\n        callback();\n      }\n    };\n    document.body.appendChild(script);\n  }\n  function isMobile() {\n    return 'navigator' in window && window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i);\n  }\n  function isTouch() {\n    return isMobile() !== null || document.createTouch !== undefined || 'ontouchstart' in window || 'onmsgesturechange' in window || navigator.msMaxTouchPoints;\n  }\n  function isFunction(f) {\n    return typeof f === 'function';\n  }\n  function isString(s) {\n    return typeof s === 'string';\n  }\n  function isNode(el) {\n    return !!(el && el.nodeType && el.nodeType == 1);\n  }\n  function isArray(ar) {\n    return Array.isArray(ar);\n  }\n  function isArrayLike(ar) {\n    return ar && ar.length && isFinite(ar.length);\n  }\n  function isObject(o) {\n    var type = _typeof(o);\n    return type === 'object' && o != null && !isFunction(o) && !isArray(o);\n  }\n  function isNil(o) {\n    return o == null;\n  }\n  function has(obj, key) {\n    return obj !== null && hasOwnProperty.call(obj, key);\n  }\n  function size(o) {\n    if (isObject(o)) {\n      if (o.keys) {\n        return o.keys().length;\n      }\n      var l = 0;\n      for (var k in o) {\n        if (has(o, k)) {\n          l++;\n        }\n      }\n      return l;\n    } else {\n      return o.length;\n    }\n  }\n  function isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n\n  function getNextFocusElement() {\n    var current = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n    var btns = document.querySelectorAll('.gbtn[data-taborder]:not(.disabled)');\n    if (!btns.length) {\n      return false;\n    }\n    if (btns.length == 1) {\n      return btns[0];\n    }\n    if (typeof current == 'string') {\n      current = parseInt(current);\n    }\n    var orders = [];\n    each(btns, function (btn) {\n      orders.push(btn.getAttribute('data-taborder'));\n    });\n    var highestOrder = Math.max.apply(Math, orders.map(function (order) {\n      return parseInt(order);\n    }));\n    var newIndex = current < 0 ? 1 : current + 1;\n    if (newIndex > highestOrder) {\n      newIndex = '1';\n    }\n    var nextOrders = orders.filter(function (el) {\n      return el >= parseInt(newIndex);\n    });\n    var nextFocus = nextOrders.sort()[0];\n    return document.querySelector(\".gbtn[data-taborder=\\\"\".concat(nextFocus, \"\\\"]\"));\n  }\n  function keyboardNavigation(instance) {\n    if (instance.events.hasOwnProperty('keyboard')) {\n      return false;\n    }\n    instance.events['keyboard'] = addEvent('keydown', {\n      onElement: window,\n      withCallback: function withCallback(event, target) {\n        event = event || window.event;\n        var key = event.keyCode;\n        if (key == 9) {\n          var focusedButton = document.querySelector('.gbtn.focused');\n          if (!focusedButton) {\n            var activeElement = document.activeElement && document.activeElement.nodeName ? document.activeElement.nodeName.toLocaleLowerCase() : false;\n            if (activeElement == 'input' || activeElement == 'textarea' || activeElement == 'button') {\n              return;\n            }\n          }\n          event.preventDefault();\n          var btns = document.querySelectorAll('.gbtn[data-taborder]');\n          if (!btns || btns.length <= 0) {\n            return;\n          }\n          if (!focusedButton) {\n            var first = getNextFocusElement();\n            if (first) {\n              first.focus();\n              addClass(first, 'focused');\n            }\n            return;\n          }\n          var currentFocusOrder = focusedButton.getAttribute('data-taborder');\n          var nextFocus = getNextFocusElement(currentFocusOrder);\n          removeClass(focusedButton, 'focused');\n          if (nextFocus) {\n            nextFocus.focus();\n            addClass(nextFocus, 'focused');\n          }\n        }\n        if (key == 39) {\n          instance.nextSlide();\n        }\n        if (key == 37) {\n          instance.prevSlide();\n        }\n        if (key == 27) {\n          instance.close();\n        }\n      }\n    });\n  }\n\n  var ZoomImages = function () {\n    function ZoomImages(el, slide) {\n      var _this = this;\n      var onclose = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      _classCallCheck(this, ZoomImages);\n      this.img = el;\n      this.slide = slide;\n      this.onclose = onclose;\n      if (this.img.setZoomEvents) {\n        return false;\n      }\n      this.active = false;\n      this.zoomedIn = false;\n      this.dragging = false;\n      this.currentX = null;\n      this.currentY = null;\n      this.initialX = null;\n      this.initialY = null;\n      this.xOffset = 0;\n      this.yOffset = 0;\n      this.img.addEventListener('mousedown', function (e) {\n        return _this.dragStart(e);\n      }, false);\n      this.img.addEventListener('mouseup', function (e) {\n        return _this.dragEnd(e);\n      }, false);\n      this.img.addEventListener('mousemove', function (e) {\n        return _this.drag(e);\n      }, false);\n      this.img.addEventListener('click', function (e) {\n        if (_this.slide.classList.contains('dragging-nav')) {\n          _this.zoomOut();\n          return false;\n        }\n        if (!_this.zoomedIn) {\n          return _this.zoomIn();\n        }\n        if (_this.zoomedIn && !_this.dragging) {\n          _this.zoomOut();\n        }\n      }, false);\n      this.img.setZoomEvents = true;\n    }\n    return _createClass(ZoomImages, [{\n      key: \"zoomIn\",\n      value: function zoomIn() {\n        var winWidth = this.widowWidth();\n        if (this.zoomedIn || winWidth <= 768) {\n          return;\n        }\n        var img = this.img;\n        img.setAttribute('data-style', img.getAttribute('style'));\n        img.style.maxWidth = img.naturalWidth + 'px';\n        img.style.maxHeight = img.naturalHeight + 'px';\n        if (img.naturalWidth > winWidth) {\n          var centerX = winWidth / 2 - img.naturalWidth / 2;\n          this.setTranslate(this.img.parentNode, centerX, 0);\n        }\n        this.slide.classList.add('zoomed');\n        this.zoomedIn = true;\n      }\n    }, {\n      key: \"zoomOut\",\n      value: function zoomOut() {\n        this.img.parentNode.setAttribute('style', '');\n        this.img.setAttribute('style', this.img.getAttribute('data-style'));\n        this.slide.classList.remove('zoomed');\n        this.zoomedIn = false;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        if (this.onclose && typeof this.onclose == 'function') {\n          this.onclose();\n        }\n      }\n    }, {\n      key: \"dragStart\",\n      value: function dragStart(e) {\n        e.preventDefault();\n        if (!this.zoomedIn) {\n          this.active = false;\n          return;\n        }\n        if (e.type === 'touchstart') {\n          this.initialX = e.touches[0].clientX - this.xOffset;\n          this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n          this.initialX = e.clientX - this.xOffset;\n          this.initialY = e.clientY - this.yOffset;\n        }\n        if (e.target === this.img) {\n          this.active = true;\n          this.img.classList.add('dragging');\n        }\n      }\n    }, {\n      key: \"dragEnd\",\n      value: function dragEnd(e) {\n        var _this2 = this;\n        e.preventDefault();\n        this.initialX = this.currentX;\n        this.initialY = this.currentY;\n        this.active = false;\n        setTimeout(function () {\n          _this2.dragging = false;\n          _this2.img.isDragging = false;\n          _this2.img.classList.remove('dragging');\n        }, 100);\n      }\n    }, {\n      key: \"drag\",\n      value: function drag(e) {\n        if (this.active) {\n          e.preventDefault();\n          if (e.type === 'touchmove') {\n            this.currentX = e.touches[0].clientX - this.initialX;\n            this.currentY = e.touches[0].clientY - this.initialY;\n          } else {\n            this.currentX = e.clientX - this.initialX;\n            this.currentY = e.clientY - this.initialY;\n          }\n          this.xOffset = this.currentX;\n          this.yOffset = this.currentY;\n          this.img.isDragging = true;\n          this.dragging = true;\n          this.setTranslate(this.img, this.currentX, this.currentY);\n        }\n      }\n    }, {\n      key: \"onMove\",\n      value: function onMove(e) {\n        if (!this.zoomedIn) {\n          return;\n        }\n        var xOffset = e.clientX - this.img.naturalWidth / 2;\n        var yOffset = e.clientY - this.img.naturalHeight / 2;\n        this.setTranslate(this.img, xOffset, yOffset);\n      }\n    }, {\n      key: \"setTranslate\",\n      value: function setTranslate(node, xPos, yPos) {\n        node.style.transform = 'translate3d(' + xPos + 'px, ' + yPos + 'px, 0)';\n      }\n    }, {\n      key: \"widowWidth\",\n      value: function widowWidth() {\n        return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n      }\n    }]);\n  }();\n\n  var DragSlides = function () {\n    function DragSlides() {\n      var _this = this;\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, DragSlides);\n      var dragEl = config.dragEl,\n        _config$toleranceX = config.toleranceX,\n        toleranceX = _config$toleranceX === void 0 ? 40 : _config$toleranceX,\n        _config$toleranceY = config.toleranceY,\n        toleranceY = _config$toleranceY === void 0 ? 65 : _config$toleranceY,\n        _config$slide = config.slide,\n        slide = _config$slide === void 0 ? null : _config$slide,\n        _config$instance = config.instance,\n        instance = _config$instance === void 0 ? null : _config$instance;\n      this.el = dragEl;\n      this.active = false;\n      this.dragging = false;\n      this.currentX = null;\n      this.currentY = null;\n      this.initialX = null;\n      this.initialY = null;\n      this.xOffset = 0;\n      this.yOffset = 0;\n      this.direction = null;\n      this.lastDirection = null;\n      this.toleranceX = toleranceX;\n      this.toleranceY = toleranceY;\n      this.toleranceReached = false;\n      this.dragContainer = this.el;\n      this.slide = slide;\n      this.instance = instance;\n      this.el.addEventListener('mousedown', function (e) {\n        return _this.dragStart(e);\n      }, false);\n      this.el.addEventListener('mouseup', function (e) {\n        return _this.dragEnd(e);\n      }, false);\n      this.el.addEventListener('mousemove', function (e) {\n        return _this.drag(e);\n      }, false);\n    }\n    return _createClass(DragSlides, [{\n      key: \"dragStart\",\n      value: function dragStart(e) {\n        if (this.slide.classList.contains('zoomed')) {\n          this.active = false;\n          return;\n        }\n        if (e.type === 'touchstart') {\n          this.initialX = e.touches[0].clientX - this.xOffset;\n          this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n          this.initialX = e.clientX - this.xOffset;\n          this.initialY = e.clientY - this.yOffset;\n        }\n        var clicked = e.target.nodeName.toLowerCase();\n        var exludeClicks = ['input', 'select', 'textarea', 'button', 'a'];\n        if (e.target.classList.contains('nodrag') || closest(e.target, '.nodrag') || exludeClicks.indexOf(clicked) !== -1) {\n          this.active = false;\n          return;\n        }\n        e.preventDefault();\n        if (e.target === this.el || clicked !== 'img' && closest(e.target, '.gslide-inline')) {\n          this.active = true;\n          this.el.classList.add('dragging');\n          this.dragContainer = closest(e.target, '.ginner-container');\n        }\n      }\n    }, {\n      key: \"dragEnd\",\n      value: function dragEnd(e) {\n        var _this2 = this;\n        e && e.preventDefault();\n        this.initialX = 0;\n        this.initialY = 0;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        this.active = false;\n        if (this.doSlideChange) {\n          this.instance.preventOutsideClick = true;\n          this.doSlideChange == 'right' && this.instance.prevSlide();\n          this.doSlideChange == 'left' && this.instance.nextSlide();\n        }\n        if (this.doSlideClose) {\n          this.instance.close();\n        }\n        if (!this.toleranceReached) {\n          this.setTranslate(this.dragContainer, 0, 0, true);\n        }\n        setTimeout(function () {\n          _this2.instance.preventOutsideClick = false;\n          _this2.toleranceReached = false;\n          _this2.lastDirection = null;\n          _this2.dragging = false;\n          _this2.el.isDragging = false;\n          _this2.el.classList.remove('dragging');\n          _this2.slide.classList.remove('dragging-nav');\n          _this2.dragContainer.style.transform = '';\n          _this2.dragContainer.style.transition = '';\n        }, 100);\n      }\n    }, {\n      key: \"drag\",\n      value: function drag(e) {\n        if (this.active) {\n          e.preventDefault();\n          this.slide.classList.add('dragging-nav');\n          if (e.type === 'touchmove') {\n            this.currentX = e.touches[0].clientX - this.initialX;\n            this.currentY = e.touches[0].clientY - this.initialY;\n          } else {\n            this.currentX = e.clientX - this.initialX;\n            this.currentY = e.clientY - this.initialY;\n          }\n          this.xOffset = this.currentX;\n          this.yOffset = this.currentY;\n          this.el.isDragging = true;\n          this.dragging = true;\n          this.doSlideChange = false;\n          this.doSlideClose = false;\n          var currentXInt = Math.abs(this.currentX);\n          var currentYInt = Math.abs(this.currentY);\n          if (currentXInt > 0 && currentXInt >= Math.abs(this.currentY) && (!this.lastDirection || this.lastDirection == 'x')) {\n            this.yOffset = 0;\n            this.lastDirection = 'x';\n            this.setTranslate(this.dragContainer, this.currentX, 0);\n            var doChange = this.shouldChange();\n            if (!this.instance.settings.dragAutoSnap && doChange) {\n              this.doSlideChange = doChange;\n            }\n            if (this.instance.settings.dragAutoSnap && doChange) {\n              this.instance.preventOutsideClick = true;\n              this.toleranceReached = true;\n              this.active = false;\n              this.instance.preventOutsideClick = true;\n              this.dragEnd(null);\n              doChange == 'right' && this.instance.prevSlide();\n              doChange == 'left' && this.instance.nextSlide();\n              return;\n            }\n          }\n          if (this.toleranceY > 0 && currentYInt > 0 && currentYInt >= currentXInt && (!this.lastDirection || this.lastDirection == 'y')) {\n            this.xOffset = 0;\n            this.lastDirection = 'y';\n            this.setTranslate(this.dragContainer, 0, this.currentY);\n            var doClose = this.shouldClose();\n            if (!this.instance.settings.dragAutoSnap && doClose) {\n              this.doSlideClose = true;\n            }\n            if (this.instance.settings.dragAutoSnap && doClose) {\n              this.instance.close();\n            }\n            return;\n          }\n        }\n      }\n    }, {\n      key: \"shouldChange\",\n      value: function shouldChange() {\n        var doChange = false;\n        var currentXInt = Math.abs(this.currentX);\n        if (currentXInt >= this.toleranceX) {\n          var dragDir = this.currentX > 0 ? 'right' : 'left';\n          if (dragDir == 'left' && this.slide !== this.slide.parentNode.lastChild || dragDir == 'right' && this.slide !== this.slide.parentNode.firstChild) {\n            doChange = dragDir;\n          }\n        }\n        return doChange;\n      }\n    }, {\n      key: \"shouldClose\",\n      value: function shouldClose() {\n        var doClose = false;\n        var currentYInt = Math.abs(this.currentY);\n        if (currentYInt >= this.toleranceY) {\n          doClose = true;\n        }\n        return doClose;\n      }\n    }, {\n      key: \"setTranslate\",\n      value: function setTranslate(node, xPos, yPos) {\n        var animated = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        if (animated) {\n          node.style.transition = 'all .2s ease';\n        } else {\n          node.style.transition = '';\n        }\n        node.style.transform = \"translate3d(\".concat(xPos, \"px, \").concat(yPos, \"px, 0)\");\n      }\n    }]);\n  }();\n\n  function slideImage(slide, data, index, callback) {\n    var slideMedia = slide.querySelector('.gslide-media');\n    var img = new Image();\n    var titleID = 'gSlideTitle_' + index;\n    var textID = 'gSlideDesc_' + index;\n    img.addEventListener('load', function () {\n      if (isFunction(callback)) {\n        callback();\n      }\n    }, false);\n    img.src = data.href;\n    if (data.sizes != '' && data.srcset != '') {\n      img.sizes = data.sizes;\n      img.srcset = data.srcset;\n    }\n    img.alt = '';\n    if (!isNil(data.alt) && data.alt !== '') {\n      img.alt = data.alt;\n    }\n    if (data.title !== '') {\n      img.setAttribute('aria-labelledby', titleID);\n    }\n    if (data.description !== '') {\n      img.setAttribute('aria-describedby', textID);\n    }\n    if (data.hasOwnProperty('_hasCustomWidth') && data._hasCustomWidth) {\n      img.style.width = data.width;\n    }\n    if (data.hasOwnProperty('_hasCustomHeight') && data._hasCustomHeight) {\n      img.style.height = data.height;\n    }\n    slideMedia.insertBefore(img, slideMedia.firstChild);\n    return;\n  }\n\n  function slideVideo(slide, data, index, callback) {\n    var _this = this;\n    var slideContainer = slide.querySelector('.ginner-container');\n    var videoID = 'gvideo' + index;\n    var slideMedia = slide.querySelector('.gslide-media');\n    var videoPlayers = this.getAllPlayers();\n    addClass(slideContainer, 'gvideo-container');\n    slideMedia.insertBefore(createHTML('<div class=\"gvideo-wrapper\"></div>'), slideMedia.firstChild);\n    var videoWrapper = slide.querySelector('.gvideo-wrapper');\n    injectAssets(this.settings.plyr.css, 'Plyr');\n    var url = data.href;\n    var provider = data === null || data === void 0 ? void 0 : data.videoProvider;\n    var customPlaceholder = false;\n    slideMedia.style.maxWidth = data.width;\n    injectAssets(this.settings.plyr.js, 'Plyr', function () {\n      if (!provider && url.match(/vimeo\\.com\\/([0-9]*)/)) {\n        provider = 'vimeo';\n      }\n      if (!provider && (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/shorts\\/([a-zA-Z0-9\\-_]+)/))) {\n        provider = 'youtube';\n      }\n      if (provider === 'local' || !provider) {\n        provider = 'local';\n        var html = '<video id=\"' + videoID + '\" ';\n        html += \"style=\\\"background:#000; max-width: \".concat(data.width, \";\\\" \");\n        html += 'preload=\"metadata\" ';\n        html += 'x-webkit-airplay=\"allow\" ';\n        html += 'playsinline ';\n        html += 'controls ';\n        html += 'class=\"gvideo-local\">';\n        html += \"<source src=\\\"\".concat(url, \"\\\">\");\n        html += '</video>';\n        customPlaceholder = createHTML(html);\n      }\n      var placeholder = customPlaceholder ? customPlaceholder : createHTML(\"<div id=\\\"\".concat(videoID, \"\\\" data-plyr-provider=\\\"\").concat(provider, \"\\\" data-plyr-embed-id=\\\"\").concat(url, \"\\\"></div>\"));\n      addClass(videoWrapper, \"\".concat(provider, \"-video gvideo\"));\n      videoWrapper.appendChild(placeholder);\n      videoWrapper.setAttribute('data-id', videoID);\n      videoWrapper.setAttribute('data-index', index);\n      var playerConfig = has(_this.settings.plyr, 'config') ? _this.settings.plyr.config : {};\n      var player = new Plyr('#' + videoID, playerConfig);\n      player.on('ready', function (event) {\n        videoPlayers[videoID] = event.detail.plyr;\n        if (isFunction(callback)) {\n          callback();\n        }\n      });\n      waitUntil(function () {\n        return slide.querySelector('iframe') && slide.querySelector('iframe').dataset.ready == 'true';\n      }, function () {\n        _this.resize(slide);\n      });\n      player.on('enterfullscreen', handleMediaFullScreen);\n      player.on('exitfullscreen', handleMediaFullScreen);\n    });\n  }\n  function handleMediaFullScreen(event) {\n    var media = closest(event.target, '.gslide-media');\n    if (event.type === 'enterfullscreen') {\n      addClass(media, 'fullscreen');\n    }\n    if (event.type === 'exitfullscreen') {\n      removeClass(media, 'fullscreen');\n    }\n  }\n\n  function slideInline(slide, data, index, callback) {\n    var _this = this;\n    var slideMedia = slide.querySelector('.gslide-media');\n    var hash = has(data, 'href') && data.href ? data.href.split('#').pop().trim() : false;\n    var content = has(data, 'content') && data.content ? data.content : false;\n    var innerContent;\n    if (content) {\n      if (isString(content)) {\n        innerContent = createHTML(\"<div class=\\\"ginlined-content\\\">\".concat(content, \"</div>\"));\n      }\n      if (isNode(content)) {\n        if (content.style.display == 'none') {\n          content.style.display = 'block';\n        }\n        var container = document.createElement('div');\n        container.className = 'ginlined-content';\n        container.appendChild(content);\n        innerContent = container;\n      }\n    }\n    if (hash) {\n      var div = document.getElementById(hash);\n      if (!div) {\n        return false;\n      }\n      var cloned = div.cloneNode(true);\n      cloned.style.height = data.height;\n      cloned.style.maxWidth = data.width;\n      addClass(cloned, 'ginlined-content');\n      innerContent = cloned;\n    }\n    if (!innerContent) {\n      console.error('Unable to append inline slide content', data);\n      return false;\n    }\n    slideMedia.style.height = data.height;\n    slideMedia.style.width = data.width;\n    slideMedia.appendChild(innerContent);\n    this.events['inlineclose' + hash] = addEvent('click', {\n      onElement: slideMedia.querySelectorAll('.gtrigger-close'),\n      withCallback: function withCallback(e) {\n        e.preventDefault();\n        _this.close();\n      }\n    });\n    if (isFunction(callback)) {\n      callback();\n    }\n    return;\n  }\n\n  function slideIframe(slide, data, index, callback) {\n    var slideMedia = slide.querySelector('.gslide-media');\n    var iframe = createIframe({\n      url: data.href,\n      callback: callback\n    });\n    slideMedia.parentNode.style.maxWidth = data.width;\n    slideMedia.parentNode.style.height = data.height;\n    slideMedia.appendChild(iframe);\n    return;\n  }\n\n  var SlideConfigParser = function () {\n    function SlideConfigParser() {\n      var slideParamas = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, SlideConfigParser);\n      this.defaults = {\n        href: '',\n        sizes: '',\n        srcset: '',\n        title: '',\n        type: '',\n        videoProvider: '',\n        description: '',\n        alt: '',\n        descPosition: 'bottom',\n        effect: '',\n        width: '',\n        height: '',\n        content: false,\n        zoomable: true,\n        draggable: true\n      };\n      if (isObject(slideParamas)) {\n        this.defaults = extend(this.defaults, slideParamas);\n      }\n    }\n    return _createClass(SlideConfigParser, [{\n      key: \"sourceType\",\n      value: function sourceType(url) {\n        var origin = url;\n        url = url.toLowerCase();\n        if (url.match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/) !== null) {\n          return 'image';\n        }\n        if (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/shorts\\/([a-zA-Z0-9\\-_]+)/)) {\n          return 'video';\n        }\n        if (url.match(/vimeo\\.com\\/([0-9]*)/)) {\n          return 'video';\n        }\n        if (url.match(/\\.(mp4|ogg|webm|mov)/) !== null) {\n          return 'video';\n        }\n        if (url.match(/\\.(mp3|wav|wma|aac|ogg)/) !== null) {\n          return 'audio';\n        }\n        if (url.indexOf('#') > -1) {\n          var hash = origin.split('#').pop();\n          if (hash.trim() !== '') {\n            return 'inline';\n          }\n        }\n        if (url.indexOf('goajax=true') > -1) {\n          return 'ajax';\n        }\n        return 'external';\n      }\n    }, {\n      key: \"parseConfig\",\n      value: function parseConfig(element, settings) {\n        var _this = this;\n        var data = extend({\n          descPosition: settings.descPosition\n        }, this.defaults);\n        if (isObject(element) && !isNode(element)) {\n          if (!has(element, 'type')) {\n            if (has(element, 'content') && element.content) {\n              element.type = 'inline';\n            } else if (has(element, 'href')) {\n              element.type = this.sourceType(element.href);\n            }\n          }\n          var objectData = extend(data, element);\n          this.setSize(objectData, settings);\n          return objectData;\n        }\n        var url = '';\n        var config = element.getAttribute('data-glightbox');\n        var nodeType = element.nodeName.toLowerCase();\n        if (nodeType === 'a') {\n          url = element.href;\n        }\n        if (nodeType === 'img') {\n          url = element.src;\n          data.alt = element.alt;\n        }\n        data.href = url;\n        each(data, function (val, key) {\n          if (has(settings, key) && key !== 'width') {\n            data[key] = settings[key];\n          }\n          var nodeData = element.dataset[key];\n          if (!isNil(nodeData)) {\n            data[key] = _this.sanitizeValue(nodeData);\n          }\n        });\n        if (data.content) {\n          data.type = 'inline';\n        }\n        if (!data.type && url) {\n          data.type = this.sourceType(url);\n        }\n        if (!isNil(config)) {\n          var cleanKeys = [];\n          each(data, function (v, k) {\n            cleanKeys.push(';\\\\s?' + k);\n          });\n          cleanKeys = cleanKeys.join('\\\\s?:|');\n          if (config.trim() !== '') {\n            each(data, function (val, key) {\n              var str = config;\n              var match = 's?' + key + 's?:s?(.*?)(' + cleanKeys + 's?:|$)';\n              var regex = new RegExp(match);\n              var matches = str.match(regex);\n              if (matches && matches.length && matches[1]) {\n                var value = matches[1].trim().replace(/;\\s*$/, '');\n                data[key] = _this.sanitizeValue(value);\n              }\n            });\n          }\n        } else {\n          if (!data.title && nodeType == 'a') {\n            var title = element.title;\n            if (!isNil(title) && title !== '') {\n              data.title = title;\n            }\n          }\n          if (!data.title && nodeType == 'img') {\n            var alt = element.alt;\n            if (!isNil(alt) && alt !== '') {\n              data.title = alt;\n            }\n          }\n        }\n        if (data.description && data.description.substring(0, 1) === '.') {\n          var description;\n          try {\n            description = document.querySelector(data.description).innerHTML;\n          } catch (error) {\n            if (!(error instanceof DOMException)) {\n              throw error;\n            }\n          }\n          if (description) {\n            data.description = description;\n          }\n        }\n        if (!data.description) {\n          var nodeDesc = element.querySelector('.glightbox-desc');\n          if (nodeDesc) {\n            data.description = nodeDesc.innerHTML;\n          }\n        }\n        this.setSize(data, settings, element);\n        this.slideConfig = data;\n        return data;\n      }\n    }, {\n      key: \"setSize\",\n      value: function setSize(data, settings) {\n        var element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var defaultWith = data.type == 'video' ? this.checkSize(settings.videosWidth) : this.checkSize(settings.width);\n        var defaultHeight = this.checkSize(settings.height);\n        data.width = has(data, 'width') && data.width !== '' ? this.checkSize(data.width) : defaultWith;\n        data.height = has(data, 'height') && data.height !== '' ? this.checkSize(data.height) : defaultHeight;\n        if (element && data.type == 'image') {\n          data._hasCustomWidth = element.dataset.width ? true : false;\n          data._hasCustomHeight = element.dataset.height ? true : false;\n        }\n        return data;\n      }\n    }, {\n      key: \"checkSize\",\n      value: function checkSize(size) {\n        return isNumber(size) ? \"\".concat(size, \"px\") : size;\n      }\n    }, {\n      key: \"sanitizeValue\",\n      value: function sanitizeValue(val) {\n        if (val !== 'true' && val !== 'false') {\n          return val;\n        }\n        return val === 'true';\n      }\n    }]);\n  }();\n\n  var Slide = function () {\n    function Slide(el, instance, index) {\n      _classCallCheck(this, Slide);\n      this.element = el;\n      this.instance = instance;\n      this.index = index;\n    }\n    return _createClass(Slide, [{\n      key: \"setContent\",\n      value: function setContent() {\n        var _this = this;\n        var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        if (hasClass(slide, 'loaded')) {\n          return false;\n        }\n        var settings = this.instance.settings;\n        var slideConfig = this.slideConfig;\n        var isMobileDevice = isMobile();\n        if (isFunction(settings.beforeSlideLoad)) {\n          settings.beforeSlideLoad({\n            index: this.index,\n            slide: slide,\n            player: false\n          });\n        }\n        var type = slideConfig.type;\n        var position = slideConfig.descPosition;\n        var slideMedia = slide.querySelector('.gslide-media');\n        var slideTitle = slide.querySelector('.gslide-title');\n        var slideText = slide.querySelector('.gslide-desc');\n        var slideDesc = slide.querySelector('.gdesc-inner');\n        var finalCallback = callback;\n        var titleID = 'gSlideTitle_' + this.index;\n        var textID = 'gSlideDesc_' + this.index;\n        if (isFunction(settings.afterSlideLoad)) {\n          finalCallback = function finalCallback() {\n            if (isFunction(callback)) {\n              callback();\n            }\n            settings.afterSlideLoad({\n              index: _this.index,\n              slide: slide,\n              player: _this.instance.getSlidePlayerInstance(_this.index)\n            });\n          };\n        }\n        if (slideConfig.title == '' && slideConfig.description == '') {\n          if (slideDesc) {\n            slideDesc.parentNode.parentNode.removeChild(slideDesc.parentNode);\n          }\n        } else {\n          if (slideTitle && slideConfig.title !== '') {\n            slideTitle.id = titleID;\n            slideTitle.innerHTML = slideConfig.title;\n          } else {\n            slideTitle.parentNode.removeChild(slideTitle);\n          }\n          if (slideText && slideConfig.description !== '') {\n            slideText.id = textID;\n            if (isMobileDevice && settings.moreLength > 0) {\n              slideConfig.smallDescription = this.slideShortDesc(slideConfig.description, settings.moreLength, settings.moreText);\n              slideText.innerHTML = slideConfig.smallDescription;\n              this.descriptionEvents(slideText, slideConfig);\n            } else {\n              slideText.innerHTML = slideConfig.description;\n            }\n          } else {\n            slideText.parentNode.removeChild(slideText);\n          }\n          addClass(slideMedia.parentNode, \"desc-\".concat(position));\n          addClass(slideDesc.parentNode, \"description-\".concat(position));\n        }\n        addClass(slideMedia, \"gslide-\".concat(type));\n        addClass(slide, 'loaded');\n        if (type === 'video') {\n          slideVideo.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n          return;\n        }\n        if (type === 'external') {\n          slideIframe.apply(this, [slide, slideConfig, this.index, finalCallback]);\n          return;\n        }\n        if (type === 'inline') {\n          slideInline.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n          if (slideConfig.draggable) {\n            new DragSlides({\n              dragEl: slide.querySelector('.gslide-inline'),\n              toleranceX: settings.dragToleranceX,\n              toleranceY: settings.dragToleranceY,\n              slide: slide,\n              instance: this.instance\n            });\n          }\n          return;\n        }\n        if (type === 'image') {\n          slideImage(slide, slideConfig, this.index, function () {\n            var img = slide.querySelector('img');\n            if (slideConfig.draggable) {\n              new DragSlides({\n                dragEl: img,\n                toleranceX: settings.dragToleranceX,\n                toleranceY: settings.dragToleranceY,\n                slide: slide,\n                instance: _this.instance\n              });\n            }\n            if (slideConfig.zoomable && img.naturalWidth > img.offsetWidth) {\n              addClass(img, 'zoomable');\n              new ZoomImages(img, slide, function () {\n                _this.instance.resize();\n              });\n            }\n            if (isFunction(finalCallback)) {\n              finalCallback();\n            }\n          });\n          return;\n        }\n        if (isFunction(finalCallback)) {\n          finalCallback();\n        }\n      }\n    }, {\n      key: \"slideShortDesc\",\n      value: function slideShortDesc(string) {\n        var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n        var wordBoundary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var div = document.createElement('div');\n        div.innerHTML = string;\n        var cleanedString = div.innerText;\n        var useWordBoundary = wordBoundary;\n        string = cleanedString.trim();\n        if (string.length <= n) {\n          return string;\n        }\n        var subString = string.substr(0, n - 1);\n        if (!useWordBoundary) {\n          return subString;\n        }\n        div = null;\n        return subString + '... <a href=\"#\" class=\"desc-more\">' + wordBoundary + '</a>';\n      }\n    }, {\n      key: \"descriptionEvents\",\n      value: function descriptionEvents(desc, data) {\n        var _this2 = this;\n        var moreLink = desc.querySelector('.desc-more');\n        if (!moreLink) {\n          return false;\n        }\n        addEvent('click', {\n          onElement: moreLink,\n          withCallback: function withCallback(event, target) {\n            event.preventDefault();\n            var body = document.body;\n            var desc = closest(target, '.gslide-desc');\n            if (!desc) {\n              return false;\n            }\n            desc.innerHTML = data.description;\n            addClass(body, 'gdesc-open');\n            var shortEvent = addEvent('click', {\n              onElement: [body, closest(desc, '.gslide-description')],\n              withCallback: function withCallback(event, target) {\n                if (event.target.nodeName.toLowerCase() !== 'a') {\n                  removeClass(body, 'gdesc-open');\n                  addClass(body, 'gdesc-closed');\n                  desc.innerHTML = data.smallDescription;\n                  _this2.descriptionEvents(desc, data);\n                  setTimeout(function () {\n                    removeClass(body, 'gdesc-closed');\n                  }, 400);\n                  shortEvent.destroy();\n                }\n              }\n            });\n          }\n        });\n      }\n    }, {\n      key: \"create\",\n      value: function create() {\n        return createHTML(this.instance.settings.slideHTML);\n      }\n    }, {\n      key: \"getConfig\",\n      value: function getConfig() {\n        if (!isNode(this.element) && !this.element.hasOwnProperty('draggable')) {\n          this.element.draggable = this.instance.settings.draggable;\n        }\n        var parser = new SlideConfigParser(this.instance.settings.slideExtraAttributes);\n        this.slideConfig = parser.parseConfig(this.element, this.instance.settings);\n        return this.slideConfig;\n      }\n    }]);\n  }();\n\n  function getLen(v) {\n    return Math.sqrt(v.x * v.x + v.y * v.y);\n  }\n  function dot(v1, v2) {\n    return v1.x * v2.x + v1.y * v2.y;\n  }\n  function getAngle(v1, v2) {\n    var mr = getLen(v1) * getLen(v2);\n    if (mr === 0) {\n      return 0;\n    }\n    var r = dot(v1, v2) / mr;\n    if (r > 1) {\n      r = 1;\n    }\n    return Math.acos(r);\n  }\n  function cross(v1, v2) {\n    return v1.x * v2.y - v2.x * v1.y;\n  }\n  function getRotateAngle(v1, v2) {\n    var angle = getAngle(v1, v2);\n    if (cross(v1, v2) > 0) {\n      angle *= -1;\n    }\n    return angle * 180 / Math.PI;\n  }\n  var EventsHandlerAdmin = function () {\n    function EventsHandlerAdmin(el) {\n      _classCallCheck(this, EventsHandlerAdmin);\n      this.handlers = [];\n      this.el = el;\n    }\n    return _createClass(EventsHandlerAdmin, [{\n      key: \"add\",\n      value: function add(handler) {\n        this.handlers.push(handler);\n      }\n    }, {\n      key: \"del\",\n      value: function del(handler) {\n        if (!handler) {\n          this.handlers = [];\n        }\n        for (var i = this.handlers.length; i >= 0; i--) {\n          if (this.handlers[i] === handler) {\n            this.handlers.splice(i, 1);\n          }\n        }\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch() {\n        for (var i = 0, len = this.handlers.length; i < len; i++) {\n          var handler = this.handlers[i];\n          if (typeof handler === 'function') {\n            handler.apply(this.el, arguments);\n          }\n        }\n      }\n    }]);\n  }();\n  function wrapFunc(el, handler) {\n    var EventshandlerAdmin = new EventsHandlerAdmin(el);\n    EventshandlerAdmin.add(handler);\n    return EventshandlerAdmin;\n  }\n  var TouchEvents = function () {\n    function TouchEvents(el, option) {\n      _classCallCheck(this, TouchEvents);\n      this.element = typeof el == 'string' ? document.querySelector(el) : el;\n      this.start = this.start.bind(this);\n      this.move = this.move.bind(this);\n      this.end = this.end.bind(this);\n      this.cancel = this.cancel.bind(this);\n      this.element.addEventListener('touchstart', this.start, false);\n      this.element.addEventListener('touchmove', this.move, false);\n      this.element.addEventListener('touchend', this.end, false);\n      this.element.addEventListener('touchcancel', this.cancel, false);\n      this.preV = {\n        x: null,\n        y: null\n      };\n      this.pinchStartLen = null;\n      this.zoom = 1;\n      this.isDoubleTap = false;\n      var noop = function noop() {};\n      this.rotate = wrapFunc(this.element, option.rotate || noop);\n      this.touchStart = wrapFunc(this.element, option.touchStart || noop);\n      this.multipointStart = wrapFunc(this.element, option.multipointStart || noop);\n      this.multipointEnd = wrapFunc(this.element, option.multipointEnd || noop);\n      this.pinch = wrapFunc(this.element, option.pinch || noop);\n      this.swipe = wrapFunc(this.element, option.swipe || noop);\n      this.tap = wrapFunc(this.element, option.tap || noop);\n      this.doubleTap = wrapFunc(this.element, option.doubleTap || noop);\n      this.longTap = wrapFunc(this.element, option.longTap || noop);\n      this.singleTap = wrapFunc(this.element, option.singleTap || noop);\n      this.pressMove = wrapFunc(this.element, option.pressMove || noop);\n      this.twoFingerPressMove = wrapFunc(this.element, option.twoFingerPressMove || noop);\n      this.touchMove = wrapFunc(this.element, option.touchMove || noop);\n      this.touchEnd = wrapFunc(this.element, option.touchEnd || noop);\n      this.touchCancel = wrapFunc(this.element, option.touchCancel || noop);\n      this.translateContainer = this.element;\n      this._cancelAllHandler = this.cancelAll.bind(this);\n      window.addEventListener('scroll', this._cancelAllHandler);\n      this.delta = null;\n      this.last = null;\n      this.now = null;\n      this.tapTimeout = null;\n      this.singleTapTimeout = null;\n      this.longTapTimeout = null;\n      this.swipeTimeout = null;\n      this.x1 = this.x2 = this.y1 = this.y2 = null;\n      this.preTapPosition = {\n        x: null,\n        y: null\n      };\n    }\n    return _createClass(TouchEvents, [{\n      key: \"start\",\n      value: function start(evt) {\n        if (!evt.touches) {\n          return;\n        }\n        var ignoreDragFor = ['a', 'button', 'input'];\n        if (evt.target && evt.target.nodeName && ignoreDragFor.indexOf(evt.target.nodeName.toLowerCase()) >= 0) {\n          console.log('ignore drag for this touched element', evt.target.nodeName.toLowerCase());\n          return;\n        }\n        this.now = Date.now();\n        this.x1 = evt.touches[0].pageX;\n        this.y1 = evt.touches[0].pageY;\n        this.delta = this.now - (this.last || this.now);\n        this.touchStart.dispatch(evt, this.element);\n        if (this.preTapPosition.x !== null) {\n          this.isDoubleTap = this.delta > 0 && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30;\n          if (this.isDoubleTap) {\n            clearTimeout(this.singleTapTimeout);\n          }\n        }\n        this.preTapPosition.x = this.x1;\n        this.preTapPosition.y = this.y1;\n        this.last = this.now;\n        var preV = this.preV,\n          len = evt.touches.length;\n        if (len > 1) {\n          this._cancelLongTap();\n          this._cancelSingleTap();\n          var v = {\n            x: evt.touches[1].pageX - this.x1,\n            y: evt.touches[1].pageY - this.y1\n          };\n          preV.x = v.x;\n          preV.y = v.y;\n          this.pinchStartLen = getLen(preV);\n          this.multipointStart.dispatch(evt, this.element);\n        }\n        this._preventTap = false;\n        this.longTapTimeout = setTimeout(function () {\n          this.longTap.dispatch(evt, this.element);\n          this._preventTap = true;\n        }.bind(this), 750);\n      }\n    }, {\n      key: \"move\",\n      value: function move(evt) {\n        if (!evt.touches) {\n          return;\n        }\n        var preV = this.preV,\n          len = evt.touches.length,\n          currentX = evt.touches[0].pageX,\n          currentY = evt.touches[0].pageY;\n        this.isDoubleTap = false;\n        if (len > 1) {\n          var sCurrentX = evt.touches[1].pageX,\n            sCurrentY = evt.touches[1].pageY;\n          var v = {\n            x: evt.touches[1].pageX - currentX,\n            y: evt.touches[1].pageY - currentY\n          };\n          if (preV.x !== null) {\n            if (this.pinchStartLen > 0) {\n              evt.zoom = getLen(v) / this.pinchStartLen;\n              this.pinch.dispatch(evt, this.element);\n            }\n            evt.angle = getRotateAngle(v, preV);\n            this.rotate.dispatch(evt, this.element);\n          }\n          preV.x = v.x;\n          preV.y = v.y;\n          if (this.x2 !== null && this.sx2 !== null) {\n            evt.deltaX = (currentX - this.x2 + sCurrentX - this.sx2) / 2;\n            evt.deltaY = (currentY - this.y2 + sCurrentY - this.sy2) / 2;\n          } else {\n            evt.deltaX = 0;\n            evt.deltaY = 0;\n          }\n          this.twoFingerPressMove.dispatch(evt, this.element);\n          this.sx2 = sCurrentX;\n          this.sy2 = sCurrentY;\n        } else {\n          if (this.x2 !== null) {\n            evt.deltaX = currentX - this.x2;\n            evt.deltaY = currentY - this.y2;\n            var movedX = Math.abs(this.x1 - this.x2),\n              movedY = Math.abs(this.y1 - this.y2);\n            if (movedX > 10 || movedY > 10) {\n              this._preventTap = true;\n            }\n          } else {\n            evt.deltaX = 0;\n            evt.deltaY = 0;\n          }\n          this.pressMove.dispatch(evt, this.element);\n        }\n        this.touchMove.dispatch(evt, this.element);\n        this._cancelLongTap();\n        this.x2 = currentX;\n        this.y2 = currentY;\n        if (len > 1) {\n          evt.preventDefault();\n        }\n      }\n    }, {\n      key: \"end\",\n      value: function end(evt) {\n        if (!evt.changedTouches) {\n          return;\n        }\n        this._cancelLongTap();\n        var self = this;\n        if (evt.touches.length < 2) {\n          this.multipointEnd.dispatch(evt, this.element);\n          this.sx2 = this.sy2 = null;\n        }\n        if (this.x2 && Math.abs(this.x1 - this.x2) > 30 || this.y2 && Math.abs(this.y1 - this.y2) > 30) {\n          evt.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2);\n          this.swipeTimeout = setTimeout(function () {\n            self.swipe.dispatch(evt, self.element);\n          }, 0);\n        } else {\n          this.tapTimeout = setTimeout(function () {\n            if (!self._preventTap) {\n              self.tap.dispatch(evt, self.element);\n            }\n            if (self.isDoubleTap) {\n              self.doubleTap.dispatch(evt, self.element);\n              self.isDoubleTap = false;\n            }\n          }, 0);\n          if (!self.isDoubleTap) {\n            self.singleTapTimeout = setTimeout(function () {\n              self.singleTap.dispatch(evt, self.element);\n            }, 250);\n          }\n        }\n        this.touchEnd.dispatch(evt, this.element);\n        this.preV.x = 0;\n        this.preV.y = 0;\n        this.zoom = 1;\n        this.pinchStartLen = null;\n        this.x1 = this.x2 = this.y1 = this.y2 = null;\n      }\n    }, {\n      key: \"cancelAll\",\n      value: function cancelAll() {\n        this._preventTap = true;\n        clearTimeout(this.singleTapTimeout);\n        clearTimeout(this.tapTimeout);\n        clearTimeout(this.longTapTimeout);\n        clearTimeout(this.swipeTimeout);\n      }\n    }, {\n      key: \"cancel\",\n      value: function cancel(evt) {\n        this.cancelAll();\n        this.touchCancel.dispatch(evt, this.element);\n      }\n    }, {\n      key: \"_cancelLongTap\",\n      value: function _cancelLongTap() {\n        clearTimeout(this.longTapTimeout);\n      }\n    }, {\n      key: \"_cancelSingleTap\",\n      value: function _cancelSingleTap() {\n        clearTimeout(this.singleTapTimeout);\n      }\n    }, {\n      key: \"_swipeDirection\",\n      value: function _swipeDirection(x1, x2, y1, y2) {\n        return Math.abs(x1 - x2) >= Math.abs(y1 - y2) ? x1 - x2 > 0 ? 'Left' : 'Right' : y1 - y2 > 0 ? 'Up' : 'Down';\n      }\n    }, {\n      key: \"on\",\n      value: function on(evt, handler) {\n        if (this[evt]) {\n          this[evt].add(handler);\n        }\n      }\n    }, {\n      key: \"off\",\n      value: function off(evt, handler) {\n        if (this[evt]) {\n          this[evt].del(handler);\n        }\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (this.singleTapTimeout) {\n          clearTimeout(this.singleTapTimeout);\n        }\n        if (this.tapTimeout) {\n          clearTimeout(this.tapTimeout);\n        }\n        if (this.longTapTimeout) {\n          clearTimeout(this.longTapTimeout);\n        }\n        if (this.swipeTimeout) {\n          clearTimeout(this.swipeTimeout);\n        }\n        this.element.removeEventListener('touchstart', this.start);\n        this.element.removeEventListener('touchmove', this.move);\n        this.element.removeEventListener('touchend', this.end);\n        this.element.removeEventListener('touchcancel', this.cancel);\n        this.rotate.del();\n        this.touchStart.del();\n        this.multipointStart.del();\n        this.multipointEnd.del();\n        this.pinch.del();\n        this.swipe.del();\n        this.tap.del();\n        this.doubleTap.del();\n        this.longTap.del();\n        this.singleTap.del();\n        this.pressMove.del();\n        this.twoFingerPressMove.del();\n        this.touchMove.del();\n        this.touchEnd.del();\n        this.touchCancel.del();\n        this.preV = this.pinchStartLen = this.zoom = this.isDoubleTap = this.delta = this.last = this.now = this.tapTimeout = this.singleTapTimeout = this.longTapTimeout = this.swipeTimeout = this.x1 = this.x2 = this.y1 = this.y2 = this.preTapPosition = this.rotate = this.touchStart = this.multipointStart = this.multipointEnd = this.pinch = this.swipe = this.tap = this.doubleTap = this.longTap = this.singleTap = this.pressMove = this.touchMove = this.touchEnd = this.touchCancel = this.twoFingerPressMove = null;\n        window.removeEventListener('scroll', this._cancelAllHandler);\n        return null;\n      }\n    }]);\n  }();\n\n  function resetSlideMove(slide) {\n    var transitionEnd = whichTransitionEvent();\n    var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    var media = hasClass(slide, 'gslide-media') ? slide : slide.querySelector('.gslide-media');\n    var container = closest(media, '.ginner-container');\n    var desc = slide.querySelector('.gslide-description');\n    if (windowWidth > 769) {\n      media = container;\n    }\n    addClass(media, 'greset');\n    cssTransform(media, 'translate3d(0, 0, 0)');\n    addEvent(transitionEnd, {\n      onElement: media,\n      once: true,\n      withCallback: function withCallback(event, target) {\n        removeClass(media, 'greset');\n      }\n    });\n    media.style.opacity = '';\n    if (desc) {\n      desc.style.opacity = '';\n    }\n  }\n  function touchNavigation(instance) {\n    if (instance.events.hasOwnProperty('touch')) {\n      return false;\n    }\n    var winSize = windowSize();\n    var winWidth = winSize.width;\n    var winHeight = winSize.height;\n    var process = false;\n    var currentSlide = null;\n    var media = null;\n    var mediaImage = null;\n    var doingMove = false;\n    var initScale = 1;\n    var maxScale = 4.5;\n    var currentScale = 1;\n    var doingZoom = false;\n    var imageZoomed = false;\n    var zoomedPosX = null;\n    var zoomedPosY = null;\n    var lastZoomedPosX = null;\n    var lastZoomedPosY = null;\n    var hDistance;\n    var vDistance;\n    var hDistancePercent = 0;\n    var vDistancePercent = 0;\n    var vSwipe = false;\n    var hSwipe = false;\n    var startCoords = {};\n    var endCoords = {};\n    var xDown = 0;\n    var yDown = 0;\n    var isInlined;\n    var sliderWrapper = document.getElementById('glightbox-slider');\n    var overlay = document.querySelector('.goverlay');\n    var touchInstance = new TouchEvents(sliderWrapper, {\n      touchStart: function touchStart(e) {\n        process = true;\n        if (hasClass(e.targetTouches[0].target, 'ginner-container') || closest(e.targetTouches[0].target, '.gslide-desc') || e.targetTouches[0].target.nodeName.toLowerCase() == 'a') {\n          process = false;\n        }\n        if (closest(e.targetTouches[0].target, '.gslide-inline') && !hasClass(e.targetTouches[0].target.parentNode, 'gslide-inline')) {\n          process = false;\n        }\n        if (process) {\n          endCoords = e.targetTouches[0];\n          startCoords.pageX = e.targetTouches[0].pageX;\n          startCoords.pageY = e.targetTouches[0].pageY;\n          xDown = e.targetTouches[0].clientX;\n          yDown = e.targetTouches[0].clientY;\n          currentSlide = instance.activeSlide;\n          media = currentSlide.querySelector('.gslide-media');\n          isInlined = currentSlide.querySelector('.gslide-inline');\n          mediaImage = null;\n          if (hasClass(media, 'gslide-image')) {\n            mediaImage = media.querySelector('img');\n          }\n          var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n          if (windowWidth > 769) {\n            media = currentSlide.querySelector('.ginner-container');\n          }\n          removeClass(overlay, 'greset');\n          if (e.pageX > 20 && e.pageX < window.innerWidth - 20) {\n            return;\n          }\n          e.preventDefault();\n        }\n      },\n      touchMove: function touchMove(e) {\n        if (!process) {\n          return;\n        }\n        endCoords = e.targetTouches[0];\n        if (doingZoom || imageZoomed) {\n          return;\n        }\n        if (isInlined && isInlined.offsetHeight > winHeight) {\n          var moved = startCoords.pageX - endCoords.pageX;\n          if (Math.abs(moved) <= 13) {\n            return false;\n          }\n        }\n        doingMove = true;\n        var xUp = e.targetTouches[0].clientX;\n        var yUp = e.targetTouches[0].clientY;\n        var xDiff = xDown - xUp;\n        var yDiff = yDown - yUp;\n        if (Math.abs(xDiff) > Math.abs(yDiff)) {\n          vSwipe = false;\n          hSwipe = true;\n        } else {\n          hSwipe = false;\n          vSwipe = true;\n        }\n        hDistance = endCoords.pageX - startCoords.pageX;\n        hDistancePercent = hDistance * 100 / winWidth;\n        vDistance = endCoords.pageY - startCoords.pageY;\n        vDistancePercent = vDistance * 100 / winHeight;\n        var opacity;\n        if (vSwipe && mediaImage) {\n          opacity = 1 - Math.abs(vDistance) / winHeight;\n          overlay.style.opacity = opacity;\n          if (instance.settings.touchFollowAxis) {\n            hDistancePercent = 0;\n          }\n        }\n        if (hSwipe) {\n          opacity = 1 - Math.abs(hDistance) / winWidth;\n          media.style.opacity = opacity;\n          if (instance.settings.touchFollowAxis) {\n            vDistancePercent = 0;\n          }\n        }\n        if (!mediaImage) {\n          return cssTransform(media, \"translate3d(\".concat(hDistancePercent, \"%, 0, 0)\"));\n        }\n        cssTransform(media, \"translate3d(\".concat(hDistancePercent, \"%, \").concat(vDistancePercent, \"%, 0)\"));\n      },\n      touchEnd: function touchEnd() {\n        if (!process) {\n          return;\n        }\n        doingMove = false;\n        if (imageZoomed || doingZoom) {\n          lastZoomedPosX = zoomedPosX;\n          lastZoomedPosY = zoomedPosY;\n          return;\n        }\n        var v = Math.abs(parseInt(vDistancePercent));\n        var h = Math.abs(parseInt(hDistancePercent));\n        if (v > 29 && mediaImage) {\n          instance.close();\n          return;\n        }\n        if (v < 29 && h < 25) {\n          addClass(overlay, 'greset');\n          overlay.style.opacity = 1;\n          return resetSlideMove(media);\n        }\n      },\n      multipointEnd: function multipointEnd() {\n        setTimeout(function () {\n          doingZoom = false;\n        }, 50);\n      },\n      multipointStart: function multipointStart() {\n        doingZoom = true;\n        initScale = currentScale ? currentScale : 1;\n      },\n      pinch: function pinch(evt) {\n        if (!mediaImage || doingMove) {\n          return false;\n        }\n        doingZoom = true;\n        mediaImage.scaleX = mediaImage.scaleY = initScale * evt.zoom;\n        var scale = initScale * evt.zoom;\n        imageZoomed = true;\n        if (scale <= 1) {\n          imageZoomed = false;\n          scale = 1;\n          lastZoomedPosY = null;\n          lastZoomedPosX = null;\n          zoomedPosX = null;\n          zoomedPosY = null;\n          mediaImage.setAttribute('style', '');\n          return;\n        }\n        if (scale > maxScale) {\n          scale = maxScale;\n        }\n        mediaImage.style.transform = \"scale3d(\".concat(scale, \", \").concat(scale, \", 1)\");\n        currentScale = scale;\n      },\n      pressMove: function pressMove(e) {\n        if (imageZoomed && !doingZoom) {\n          var mhDistance = endCoords.pageX - startCoords.pageX;\n          var mvDistance = endCoords.pageY - startCoords.pageY;\n          if (lastZoomedPosX) {\n            mhDistance = mhDistance + lastZoomedPosX;\n          }\n          if (lastZoomedPosY) {\n            mvDistance = mvDistance + lastZoomedPosY;\n          }\n          zoomedPosX = mhDistance;\n          zoomedPosY = mvDistance;\n          var style = \"translate3d(\".concat(mhDistance, \"px, \").concat(mvDistance, \"px, 0)\");\n          if (currentScale) {\n            style += \" scale3d(\".concat(currentScale, \", \").concat(currentScale, \", 1)\");\n          }\n          cssTransform(mediaImage, style);\n        }\n      },\n      swipe: function swipe(evt) {\n        if (imageZoomed) {\n          return;\n        }\n        if (doingZoom) {\n          doingZoom = false;\n          return;\n        }\n        if (evt.direction == 'Left') {\n          if (instance.index == instance.elements.length - 1) {\n            return resetSlideMove(media);\n          }\n          instance.nextSlide();\n        }\n        if (evt.direction == 'Right') {\n          if (instance.index == 0) {\n            return resetSlideMove(media);\n          }\n          instance.prevSlide();\n        }\n      }\n    });\n    instance.events['touch'] = touchInstance;\n  }\n\n  var _version = '3.3.0';\n  var isMobile$1 = isMobile();\n  var isTouch$1 = isTouch();\n  var html = document.getElementsByTagName('html')[0];\n  var defaults = {\n    selector: '.glightbox',\n    elements: null,\n    skin: 'clean',\n    theme: 'clean',\n    closeButton: true,\n    startAt: null,\n    autoplayVideos: true,\n    autofocusVideos: true,\n    descPosition: 'bottom',\n    width: '900px',\n    height: '506px',\n    videosWidth: '960px',\n    beforeSlideChange: null,\n    afterSlideChange: null,\n    beforeSlideLoad: null,\n    afterSlideLoad: null,\n    slideInserted: null,\n    slideRemoved: null,\n    slideExtraAttributes: null,\n    onOpen: null,\n    onClose: null,\n    loop: false,\n    zoomable: true,\n    draggable: true,\n    dragAutoSnap: false,\n    dragToleranceX: 40,\n    dragToleranceY: 65,\n    preload: true,\n    oneSlidePerOpen: false,\n    touchNavigation: true,\n    touchFollowAxis: true,\n    keyboardNavigation: true,\n    closeOnOutsideClick: true,\n    plugins: false,\n    plyr: {\n      css: 'https://cdn.plyr.io/3.6.12/plyr.css',\n      js: 'https://cdn.plyr.io/3.6.12/plyr.js',\n      config: {\n        ratio: '16:9',\n        fullscreen: {\n          enabled: true,\n          iosNative: true\n        },\n        youtube: {\n          noCookie: true,\n          rel: 0,\n          showinfo: 0,\n          iv_load_policy: 3\n        },\n        vimeo: {\n          byline: false,\n          portrait: false,\n          title: false,\n          transparent: false\n        }\n      }\n    },\n    openEffect: 'zoom',\n    closeEffect: 'zoom',\n    slideEffect: 'slide',\n    moreText: 'See more',\n    moreLength: 60,\n    cssEfects: {\n      fade: {\n        \"in\": 'fadeIn',\n        out: 'fadeOut'\n      },\n      zoom: {\n        \"in\": 'zoomIn',\n        out: 'zoomOut'\n      },\n      slide: {\n        \"in\": 'slideInRight',\n        out: 'slideOutLeft'\n      },\n      slideBack: {\n        \"in\": 'slideInLeft',\n        out: 'slideOutRight'\n      },\n      none: {\n        \"in\": 'none',\n        out: 'none'\n      }\n    },\n    svg: {\n      close: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',\n      next: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',\n      prev: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'\n    }\n  };\n  defaults.slideHTML = \"<div class=\\\"gslide\\\">\\n    <div class=\\\"gslide-inner-content\\\">\\n        <div class=\\\"ginner-container\\\">\\n            <div class=\\\"gslide-media\\\">\\n            </div>\\n            <div class=\\\"gslide-description\\\">\\n                <div class=\\\"gdesc-inner\\\">\\n                    <h4 class=\\\"gslide-title\\\"></h4>\\n                    <div class=\\\"gslide-desc\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n  defaults.lightboxHTML = \"<div id=\\\"glightbox-body\\\" class=\\\"glightbox-container\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-hidden=\\\"false\\\">\\n    <div class=\\\"gloader visible\\\"></div>\\n    <div class=\\\"goverlay\\\"></div>\\n    <div class=\\\"gcontainer\\\">\\n    <div id=\\\"glightbox-slider\\\" class=\\\"gslider\\\"></div>\\n    <button class=\\\"gclose gbtn\\\" aria-label=\\\"Close\\\" data-taborder=\\\"3\\\">{closeSVG}</button>\\n    <button class=\\\"gprev gbtn\\\" aria-label=\\\"Previous\\\" data-taborder=\\\"2\\\">{prevSVG}</button>\\n    <button class=\\\"gnext gbtn\\\" aria-label=\\\"Next\\\" data-taborder=\\\"1\\\">{nextSVG}</button>\\n</div>\\n</div>\";\n  var GlightboxInit = function () {\n    function GlightboxInit() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, GlightboxInit);\n      this.customOptions = options;\n      this.settings = extend(defaults, options);\n      this.effectsClasses = this.getAnimationClasses();\n      this.videoPlayers = {};\n      this.apiEvents = [];\n      this.fullElementsList = false;\n    }\n    return _createClass(GlightboxInit, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var selector = this.getSelector();\n        if (selector) {\n          this.baseEvents = addEvent('click', {\n            onElement: selector,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this.open(target);\n            }\n          });\n        }\n        this.elements = this.getElements();\n      }\n    }, {\n      key: \"open\",\n      value: function open() {\n        var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var startAt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        if (this.elements.length === 0) {\n          return false;\n        }\n        this.activeSlide = null;\n        this.prevActiveSlideIndex = null;\n        this.prevActiveSlide = null;\n        var index = isNumber(startAt) ? startAt : this.settings.startAt;\n        if (isNode(element)) {\n          var gallery = element.getAttribute('data-gallery');\n          if (gallery) {\n            this.fullElementsList = this.elements;\n            this.elements = this.getGalleryElements(this.elements, gallery);\n          }\n          if (isNil(index)) {\n            index = this.getElementIndex(element);\n            if (index < 0) {\n              index = 0;\n            }\n          }\n        }\n        if (!isNumber(index)) {\n          index = 0;\n        }\n        this.build();\n        animateElement(this.overlay, this.settings.openEffect === 'none' ? 'none' : this.settings.cssEfects.fade[\"in\"]);\n        var body = document.body;\n        var scrollBar = window.innerWidth - document.documentElement.clientWidth;\n        if (scrollBar > 0) {\n          var styleSheet = document.createElement('style');\n          styleSheet.type = 'text/css';\n          styleSheet.className = 'gcss-styles';\n          styleSheet.innerText = \".gscrollbar-fixer {margin-right: \".concat(scrollBar, \"px}\");\n          document.head.appendChild(styleSheet);\n          addClass(body, 'gscrollbar-fixer');\n        }\n        addClass(body, 'glightbox-open');\n        addClass(html, 'glightbox-open');\n        if (isMobile$1) {\n          addClass(document.body, 'glightbox-mobile');\n          this.settings.slideEffect = 'slide';\n        }\n        this.showSlide(index, true);\n        if (this.elements.length === 1) {\n          addClass(this.prevButton, 'glightbox-button-hidden');\n          addClass(this.nextButton, 'glightbox-button-hidden');\n        } else {\n          removeClass(this.prevButton, 'glightbox-button-hidden');\n          removeClass(this.nextButton, 'glightbox-button-hidden');\n        }\n        this.lightboxOpen = true;\n        this.trigger('open');\n        if (isFunction(this.settings.onOpen)) {\n          this.settings.onOpen();\n        }\n        if (isTouch$1 && this.settings.touchNavigation) {\n          touchNavigation(this);\n        }\n        if (this.settings.keyboardNavigation) {\n          keyboardNavigation(this);\n        }\n      }\n    }, {\n      key: \"openAt\",\n      value: function openAt() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        this.open(null, index);\n      }\n    }, {\n      key: \"showSlide\",\n      value: function showSlide() {\n        var _this2 = this;\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var first = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        show(this.loader);\n        this.index = parseInt(index);\n        var current = this.slidesContainer.querySelector('.current');\n        if (current) {\n          removeClass(current, 'current');\n        }\n        this.slideAnimateOut();\n        var slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (hasClass(slideNode, 'loaded')) {\n          this.slideAnimateIn(slideNode, first);\n          hide(this.loader);\n        } else {\n          show(this.loader);\n          var slide = this.elements[index];\n          var slideData = {\n            index: this.index,\n            slide: slideNode,\n            slideNode: slideNode,\n            slideConfig: slide.slideConfig,\n            slideIndex: this.index,\n            trigger: slide.node,\n            player: null\n          };\n          this.trigger('slide_before_load', slideData);\n          slide.instance.setContent(slideNode, function () {\n            hide(_this2.loader);\n            _this2.resize();\n            _this2.slideAnimateIn(slideNode, first);\n            _this2.trigger('slide_after_load', slideData);\n          });\n        }\n        this.slideDescription = slideNode.querySelector('.gslide-description');\n        this.slideDescriptionContained = this.slideDescription && hasClass(this.slideDescription.parentNode, 'gslide-media');\n        if (this.settings.preload) {\n          this.preloadSlide(index + 1);\n          this.preloadSlide(index - 1);\n        }\n        this.updateNavigationClasses();\n        this.activeSlide = slideNode;\n      }\n    }, {\n      key: \"preloadSlide\",\n      value: function preloadSlide(index) {\n        var _this3 = this;\n        if (index < 0 || index > this.elements.length - 1) {\n          return false;\n        }\n        if (isNil(this.elements[index])) {\n          return false;\n        }\n        var slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (hasClass(slideNode, 'loaded')) {\n          return false;\n        }\n        var slide = this.elements[index];\n        var type = slide.type;\n        var slideData = {\n          index: index,\n          slide: slideNode,\n          slideNode: slideNode,\n          slideConfig: slide.slideConfig,\n          slideIndex: index,\n          trigger: slide.node,\n          player: null\n        };\n        this.trigger('slide_before_load', slideData);\n        if (type === 'video' || type === 'external') {\n          setTimeout(function () {\n            slide.instance.setContent(slideNode, function () {\n              _this3.trigger('slide_after_load', slideData);\n            });\n          }, 200);\n        } else {\n          slide.instance.setContent(slideNode, function () {\n            _this3.trigger('slide_after_load', slideData);\n          });\n        }\n      }\n    }, {\n      key: \"prevSlide\",\n      value: function prevSlide() {\n        this.goToSlide(this.index - 1);\n      }\n    }, {\n      key: \"nextSlide\",\n      value: function nextSlide() {\n        this.goToSlide(this.index + 1);\n      }\n    }, {\n      key: \"goToSlide\",\n      value: function goToSlide() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        this.prevActiveSlide = this.activeSlide;\n        this.prevActiveSlideIndex = this.index;\n        if (!this.loop() && (index < 0 || index > this.elements.length - 1)) {\n          return false;\n        }\n        if (index < 0) {\n          index = this.elements.length - 1;\n        } else if (index >= this.elements.length) {\n          index = 0;\n        }\n        this.showSlide(index);\n      }\n    }, {\n      key: \"insertSlide\",\n      value: function insertSlide() {\n        var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n        if (index < 0) {\n          index = this.elements.length;\n        }\n        var slide = new Slide(config, this, index);\n        var data = slide.getConfig();\n        var slideInfo = extend({}, data);\n        var newSlide = slide.create();\n        var totalSlides = this.elements.length - 1;\n        slideInfo.index = index;\n        slideInfo.node = false;\n        slideInfo.instance = slide;\n        slideInfo.slideConfig = data;\n        this.elements.splice(index, 0, slideInfo);\n        var addedSlideNode = null;\n        var addedSlidePlayer = null;\n        if (this.slidesContainer) {\n          if (index > totalSlides) {\n            this.slidesContainer.appendChild(newSlide);\n          } else {\n            var existingSlide = this.slidesContainer.querySelectorAll('.gslide')[index];\n            this.slidesContainer.insertBefore(newSlide, existingSlide);\n          }\n          if (this.settings.preload && this.index == 0 && index == 0 || this.index - 1 == index || this.index + 1 == index) {\n            this.preloadSlide(index);\n          }\n          if (this.index === 0 && index === 0) {\n            this.index = 1;\n          }\n          this.updateNavigationClasses();\n          addedSlideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n          addedSlidePlayer = this.getSlidePlayerInstance(index);\n          slideInfo.slideNode = addedSlideNode;\n        }\n        this.trigger('slide_inserted', {\n          index: index,\n          slide: addedSlideNode,\n          slideNode: addedSlideNode,\n          slideConfig: data,\n          slideIndex: index,\n          trigger: null,\n          player: addedSlidePlayer\n        });\n        if (isFunction(this.settings.slideInserted)) {\n          this.settings.slideInserted({\n            index: index,\n            slide: addedSlideNode,\n            player: addedSlidePlayer\n          });\n        }\n      }\n    }, {\n      key: \"removeSlide\",\n      value: function removeSlide() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n        if (index < 0 || index > this.elements.length - 1) {\n          return false;\n        }\n        var slide = this.slidesContainer && this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (slide) {\n          if (this.getActiveSlideIndex() == index) {\n            if (index == this.elements.length - 1) {\n              this.prevSlide();\n            } else {\n              this.nextSlide();\n            }\n          }\n          slide.parentNode.removeChild(slide);\n        }\n        this.elements.splice(index, 1);\n        this.trigger('slide_removed', index);\n        if (isFunction(this.settings.slideRemoved)) {\n          this.settings.slideRemoved(index);\n        }\n      }\n    }, {\n      key: \"slideAnimateIn\",\n      value: function slideAnimateIn(slide, first) {\n        var _this4 = this;\n        var slideMedia = slide.querySelector('.gslide-media');\n        var slideDesc = slide.querySelector('.gslide-description');\n        var prevData = {\n          index: this.prevActiveSlideIndex,\n          slide: this.prevActiveSlide,\n          slideNode: this.prevActiveSlide,\n          slideIndex: this.prevActiveSlide,\n          slideConfig: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n          trigger: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n          player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n        };\n        var nextData = {\n          index: this.index,\n          slide: this.activeSlide,\n          slideNode: this.activeSlide,\n          slideConfig: this.elements[this.index].slideConfig,\n          slideIndex: this.index,\n          trigger: this.elements[this.index].node,\n          player: this.getSlidePlayerInstance(this.index)\n        };\n        if (slideMedia.offsetWidth > 0 && slideDesc) {\n          hide(slideDesc);\n          slideDesc.style.display = '';\n        }\n        removeClass(slide, this.effectsClasses);\n        if (first) {\n          animateElement(slide, this.settings.cssEfects[this.settings.openEffect][\"in\"], function () {\n            if (_this4.settings.autoplayVideos) {\n              _this4.slidePlayerPlay(slide);\n            }\n            _this4.trigger('slide_changed', {\n              prev: prevData,\n              current: nextData\n            });\n            if (isFunction(_this4.settings.afterSlideChange)) {\n              _this4.settings.afterSlideChange.apply(_this4, [prevData, nextData]);\n            }\n          });\n        } else {\n          var effectName = this.settings.slideEffect;\n          var animIn = effectName !== 'none' ? this.settings.cssEfects[effectName][\"in\"] : effectName;\n          if (this.prevActiveSlideIndex > this.index) {\n            if (this.settings.slideEffect == 'slide') {\n              animIn = this.settings.cssEfects.slideBack[\"in\"];\n            }\n          }\n          animateElement(slide, animIn, function () {\n            if (_this4.settings.autoplayVideos) {\n              _this4.slidePlayerPlay(slide);\n            }\n            _this4.trigger('slide_changed', {\n              prev: prevData,\n              current: nextData\n            });\n            if (isFunction(_this4.settings.afterSlideChange)) {\n              _this4.settings.afterSlideChange.apply(_this4, [prevData, nextData]);\n            }\n          });\n        }\n        setTimeout(function () {\n          _this4.resize(slide);\n        }, 100);\n        addClass(slide, 'current');\n      }\n    }, {\n      key: \"slideAnimateOut\",\n      value: function slideAnimateOut() {\n        if (!this.prevActiveSlide) {\n          return false;\n        }\n        var prevSlide = this.prevActiveSlide;\n        removeClass(prevSlide, this.effectsClasses);\n        addClass(prevSlide, 'prev');\n        var animation = this.settings.slideEffect;\n        var animOut = animation !== 'none' ? this.settings.cssEfects[animation].out : animation;\n        this.slidePlayerPause(prevSlide);\n        this.trigger('slide_before_change', {\n          prev: {\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide,\n            slideNode: this.prevActiveSlide,\n            slideIndex: this.prevActiveSlideIndex,\n            slideConfig: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n            trigger: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n          },\n          current: {\n            index: this.index,\n            slide: this.activeSlide,\n            slideNode: this.activeSlide,\n            slideIndex: this.index,\n            slideConfig: this.elements[this.index].slideConfig,\n            trigger: this.elements[this.index].node,\n            player: this.getSlidePlayerInstance(this.index)\n          }\n        });\n        if (isFunction(this.settings.beforeSlideChange)) {\n          this.settings.beforeSlideChange.apply(this, [{\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n          }, {\n            index: this.index,\n            slide: this.activeSlide,\n            player: this.getSlidePlayerInstance(this.index)\n          }]);\n        }\n        if (this.prevActiveSlideIndex > this.index && this.settings.slideEffect == 'slide') {\n          animOut = this.settings.cssEfects.slideBack.out;\n        }\n        animateElement(prevSlide, animOut, function () {\n          var container = prevSlide.querySelector('.ginner-container');\n          var media = prevSlide.querySelector('.gslide-media');\n          var desc = prevSlide.querySelector('.gslide-description');\n          container.style.transform = '';\n          media.style.transform = '';\n          removeClass(media, 'greset');\n          media.style.opacity = '';\n          if (desc) {\n            desc.style.opacity = '';\n          }\n          removeClass(prevSlide, 'prev');\n        });\n      }\n    }, {\n      key: \"getAllPlayers\",\n      value: function getAllPlayers() {\n        return this.videoPlayers;\n      }\n    }, {\n      key: \"getSlidePlayerInstance\",\n      value: function getSlidePlayerInstance(index) {\n        var id = 'gvideo' + index;\n        var videoPlayers = this.getAllPlayers();\n        if (has(videoPlayers, id) && videoPlayers[id]) {\n          return videoPlayers[id];\n        }\n        return false;\n      }\n    }, {\n      key: \"stopSlideVideo\",\n      value: function stopSlideVideo(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        console.log('stopSlideVideo is deprecated, use slidePlayerPause');\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && player.playing) {\n          player.pause();\n        }\n      }\n    }, {\n      key: \"slidePlayerPause\",\n      value: function slidePlayerPause(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && player.playing) {\n          player.pause();\n        }\n      }\n    }, {\n      key: \"playSlideVideo\",\n      value: function playSlideVideo(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        console.log('playSlideVideo is deprecated, use slidePlayerPlay');\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && !player.playing) {\n          player.play();\n        }\n      }\n    }, {\n      key: \"slidePlayerPlay\",\n      value: function slidePlayerPlay(slide) {\n        var _this$settings$plyr$c;\n        if (isMobile$1 && !((_this$settings$plyr$c = this.settings.plyr.config) !== null && _this$settings$plyr$c !== void 0 && _this$settings$plyr$c.muted)) {\n          return;\n        }\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && !player.playing) {\n          player.play();\n          if (this.settings.autofocusVideos) {\n            player.elements.container.focus();\n          }\n        }\n      }\n    }, {\n      key: \"setElements\",\n      value: function setElements(elements) {\n        var _this5 = this;\n        this.settings.elements = false;\n        var newElements = [];\n        if (elements && elements.length) {\n          each(elements, function (el, i) {\n            var slide = new Slide(el, _this5, i);\n            var data = slide.getConfig();\n            var slideInfo = extend({}, data);\n            slideInfo.slideConfig = data;\n            slideInfo.instance = slide;\n            slideInfo.index = i;\n            newElements.push(slideInfo);\n          });\n        }\n        this.elements = newElements;\n        if (this.lightboxOpen) {\n          this.slidesContainer.innerHTML = '';\n          if (this.elements.length) {\n            each(this.elements, function () {\n              var slide = createHTML(_this5.settings.slideHTML);\n              _this5.slidesContainer.appendChild(slide);\n            });\n            this.showSlide(0, true);\n          }\n        }\n      }\n    }, {\n      key: \"getElementIndex\",\n      value: function getElementIndex(node) {\n        var index = false;\n        each(this.elements, function (el, i) {\n          if (has(el, 'node') && el.node == node) {\n            index = i;\n            return true;\n          }\n        });\n        return index;\n      }\n    }, {\n      key: \"getElements\",\n      value: function getElements() {\n        var _this6 = this;\n        var list = [];\n        this.elements = this.elements ? this.elements : [];\n        if (!isNil(this.settings.elements) && isArray(this.settings.elements) && this.settings.elements.length) {\n          each(this.settings.elements, function (el, i) {\n            var slide = new Slide(el, _this6, i);\n            var elData = slide.getConfig();\n            var slideInfo = extend({}, elData);\n            slideInfo.node = false;\n            slideInfo.index = i;\n            slideInfo.instance = slide;\n            slideInfo.slideConfig = elData;\n            list.push(slideInfo);\n          });\n        }\n        var nodes = false;\n        var selector = this.getSelector();\n        if (selector) {\n          nodes = document.querySelectorAll(this.getSelector());\n        }\n        if (!nodes) {\n          return list;\n        }\n        each(nodes, function (el, i) {\n          var slide = new Slide(el, _this6, i);\n          var elData = slide.getConfig();\n          var slideInfo = extend({}, elData);\n          slideInfo.node = el;\n          slideInfo.index = i;\n          slideInfo.instance = slide;\n          slideInfo.slideConfig = elData;\n          slideInfo.gallery = el.getAttribute('data-gallery');\n          list.push(slideInfo);\n        });\n        return list;\n      }\n    }, {\n      key: \"getGalleryElements\",\n      value: function getGalleryElements(list, gallery) {\n        return list.filter(function (el) {\n          return el.gallery == gallery;\n        });\n      }\n    }, {\n      key: \"getSelector\",\n      value: function getSelector() {\n        if (this.settings.elements) {\n          return false;\n        }\n        if (this.settings.selector && this.settings.selector.substring(0, 5) == 'data-') {\n          return \"*[\".concat(this.settings.selector, \"]\");\n        }\n        return this.settings.selector;\n      }\n    }, {\n      key: \"getActiveSlide\",\n      value: function getActiveSlide() {\n        return this.slidesContainer.querySelectorAll('.gslide')[this.index];\n      }\n    }, {\n      key: \"getActiveSlideIndex\",\n      value: function getActiveSlideIndex() {\n        return this.index;\n      }\n    }, {\n      key: \"getAnimationClasses\",\n      value: function getAnimationClasses() {\n        var effects = [];\n        for (var key in this.settings.cssEfects) {\n          if (this.settings.cssEfects.hasOwnProperty(key)) {\n            var effect = this.settings.cssEfects[key];\n            effects.push(\"g\".concat(effect[\"in\"]));\n            effects.push(\"g\".concat(effect.out));\n          }\n        }\n        return effects.join(' ');\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        var _this7 = this;\n        if (this.built) {\n          return false;\n        }\n        var children = document.body.childNodes;\n        var bodyChildElms = [];\n        each(children, function (el) {\n          if (el.parentNode == document.body && el.nodeName.charAt(0) !== '#' && el.hasAttribute && !el.hasAttribute('aria-hidden')) {\n            bodyChildElms.push(el);\n            el.setAttribute('aria-hidden', 'true');\n          }\n        });\n        var nextSVG = has(this.settings.svg, 'next') ? this.settings.svg.next : '';\n        var prevSVG = has(this.settings.svg, 'prev') ? this.settings.svg.prev : '';\n        var closeSVG = has(this.settings.svg, 'close') ? this.settings.svg.close : '';\n        var lightboxHTML = this.settings.lightboxHTML;\n        lightboxHTML = lightboxHTML.replace(/{nextSVG}/g, nextSVG);\n        lightboxHTML = lightboxHTML.replace(/{prevSVG}/g, prevSVG);\n        lightboxHTML = lightboxHTML.replace(/{closeSVG}/g, closeSVG);\n        lightboxHTML = createHTML(lightboxHTML);\n        document.body.appendChild(lightboxHTML);\n        var modal = document.getElementById('glightbox-body');\n        this.modal = modal;\n        var closeButton = modal.querySelector('.gclose');\n        this.prevButton = modal.querySelector('.gprev');\n        this.nextButton = modal.querySelector('.gnext');\n        this.overlay = modal.querySelector('.goverlay');\n        this.loader = modal.querySelector('.gloader');\n        this.slidesContainer = document.getElementById('glightbox-slider');\n        this.bodyHiddenChildElms = bodyChildElms;\n        this.events = {};\n        addClass(this.modal, 'glightbox-' + this.settings.skin);\n        if (this.settings.closeButton && closeButton) {\n          this.events['close'] = addEvent('click', {\n            onElement: closeButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.close();\n            }\n          });\n        }\n        if (closeButton && !this.settings.closeButton) {\n          closeButton.parentNode.removeChild(closeButton);\n        }\n        if (this.nextButton) {\n          this.events['next'] = addEvent('click', {\n            onElement: this.nextButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.nextSlide();\n            }\n          });\n        }\n        if (this.prevButton) {\n          this.events['prev'] = addEvent('click', {\n            onElement: this.prevButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.prevSlide();\n            }\n          });\n        }\n        if (this.settings.closeOnOutsideClick) {\n          this.events['outClose'] = addEvent('click', {\n            onElement: modal,\n            withCallback: function withCallback(e, target) {\n              if (!_this7.preventOutsideClick && !hasClass(document.body, 'glightbox-mobile') && !closest(e.target, '.ginner-container')) {\n                if (!closest(e.target, '.gbtn') && !hasClass(e.target, 'gnext') && !hasClass(e.target, 'gprev')) {\n                  _this7.close();\n                }\n              }\n            }\n          });\n        }\n        each(this.elements, function (slide, i) {\n          _this7.slidesContainer.appendChild(slide.instance.create());\n          slide.slideNode = _this7.slidesContainer.querySelectorAll('.gslide')[i];\n        });\n        if (isTouch$1) {\n          addClass(document.body, 'glightbox-touch');\n        }\n        this.events['resize'] = addEvent('resize', {\n          onElement: window,\n          withCallback: function withCallback() {\n            _this7.resize();\n          }\n        });\n        this.built = true;\n      }\n    }, {\n      key: \"resize\",\n      value: function resize() {\n        var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        slide = !slide ? this.activeSlide : slide;\n        if (!slide || hasClass(slide, 'zoomed')) {\n          return;\n        }\n        var winSize = windowSize();\n        var video = slide.querySelector('.gvideo-wrapper');\n        var image = slide.querySelector('.gslide-image');\n        var description = this.slideDescription;\n        var winWidth = winSize.width;\n        var winHeight = winSize.height;\n        if (winWidth <= 768) {\n          addClass(document.body, 'glightbox-mobile');\n        } else {\n          removeClass(document.body, 'glightbox-mobile');\n        }\n        if (!video && !image) {\n          return;\n        }\n        var descriptionResize = false;\n        if (description && (hasClass(description, 'description-bottom') || hasClass(description, 'description-top')) && !hasClass(description, 'gabsolute')) {\n          descriptionResize = true;\n        }\n        if (image) {\n          if (winWidth <= 768) {\n            var imgNode = image.querySelector('img');\n          } else if (descriptionResize) {\n            var _slideTriggerNode$get;\n            var descHeight = description.offsetHeight;\n            var _imgNode = image.querySelector('img');\n            var slideTriggerNode = this.elements[this.index].node;\n            var maxHeightValue = (_slideTriggerNode$get = slideTriggerNode.getAttribute('data-height')) !== null && _slideTriggerNode$get !== void 0 ? _slideTriggerNode$get : '100vh';\n            _imgNode.setAttribute('style', \"max-height: calc(\".concat(maxHeightValue, \" - \").concat(descHeight, \"px)\"));\n            description.setAttribute('style', \"max-width: \".concat(_imgNode.offsetWidth, \"px;\"));\n          }\n        }\n        if (video) {\n          var ratio = has(this.settings.plyr.config, 'ratio') ? this.settings.plyr.config.ratio : '';\n          if (!ratio) {\n            var containerWidth = video.clientWidth;\n            var containerHeight = video.clientHeight;\n            var divisor = containerWidth / containerHeight;\n            ratio = \"\".concat(containerWidth / divisor, \":\").concat(containerHeight / divisor);\n          }\n          var videoRatio = ratio.split(':');\n          var videoWidth = this.settings.videosWidth;\n          var maxWidth = this.settings.videosWidth;\n          if (isNumber(videoWidth) || videoWidth.indexOf('px') !== -1) {\n            maxWidth = parseInt(videoWidth);\n          } else {\n            if (videoWidth.indexOf('vw') !== -1) {\n              maxWidth = winWidth * parseInt(videoWidth) / 100;\n            } else if (videoWidth.indexOf('vh') !== -1) {\n              maxWidth = winHeight * parseInt(videoWidth) / 100;\n            } else if (videoWidth.indexOf('%') !== -1) {\n              maxWidth = winWidth * parseInt(videoWidth) / 100;\n            } else {\n              maxWidth = parseInt(video.clientWidth);\n            }\n          }\n          var maxHeight = maxWidth / (parseInt(videoRatio[0]) / parseInt(videoRatio[1]));\n          maxHeight = Math.floor(maxHeight);\n          if (descriptionResize) {\n            winHeight = winHeight - description.offsetHeight;\n          }\n          if (maxWidth > winWidth || maxHeight > winHeight || winHeight < maxHeight && winWidth > maxWidth) {\n            var vwidth = video.offsetWidth;\n            var vheight = video.offsetHeight;\n            var _ratio = winHeight / vheight;\n            var vsize = {\n              width: vwidth * _ratio,\n              height: vheight * _ratio\n            };\n            video.parentNode.setAttribute('style', \"max-width: \".concat(vsize.width, \"px\"));\n            if (descriptionResize) {\n              description.setAttribute('style', \"max-width: \".concat(vsize.width, \"px;\"));\n            }\n          } else {\n            video.parentNode.style.maxWidth = \"\".concat(videoWidth);\n            if (descriptionResize) {\n              description.setAttribute('style', \"max-width: \".concat(videoWidth, \";\"));\n            }\n          }\n        }\n      }\n    }, {\n      key: \"reload\",\n      value: function reload() {\n        this.init();\n      }\n    }, {\n      key: \"updateNavigationClasses\",\n      value: function updateNavigationClasses() {\n        var loop = this.loop();\n        removeClass(this.nextButton, 'disabled');\n        removeClass(this.prevButton, 'disabled');\n        if (this.index == 0 && this.elements.length - 1 == 0) {\n          addClass(this.prevButton, 'disabled');\n          addClass(this.nextButton, 'disabled');\n        } else if (this.index === 0 && !loop) {\n          addClass(this.prevButton, 'disabled');\n        } else if (this.index === this.elements.length - 1 && !loop) {\n          addClass(this.nextButton, 'disabled');\n        }\n      }\n    }, {\n      key: \"loop\",\n      value: function loop() {\n        var loop = has(this.settings, 'loopAtEnd') ? this.settings.loopAtEnd : null;\n        loop = has(this.settings, 'loop') ? this.settings.loop : loop;\n        return loop;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this8 = this;\n        if (!this.lightboxOpen) {\n          if (this.events) {\n            for (var key in this.events) {\n              if (this.events.hasOwnProperty(key)) {\n                this.events[key].destroy();\n              }\n            }\n            this.events = null;\n          }\n          return false;\n        }\n        if (this.closing) {\n          return false;\n        }\n        this.closing = true;\n        this.slidePlayerPause(this.activeSlide);\n        if (this.fullElementsList) {\n          this.elements = this.fullElementsList;\n        }\n        if (this.bodyHiddenChildElms.length) {\n          each(this.bodyHiddenChildElms, function (el) {\n            el.removeAttribute('aria-hidden');\n          });\n        }\n        addClass(this.modal, 'glightbox-closing');\n        animateElement(this.overlay, this.settings.openEffect == 'none' ? 'none' : this.settings.cssEfects.fade.out);\n        animateElement(this.activeSlide, this.settings.cssEfects[this.settings.closeEffect].out, function () {\n          _this8.activeSlide = null;\n          _this8.prevActiveSlideIndex = null;\n          _this8.prevActiveSlide = null;\n          _this8.built = false;\n          if (_this8.events) {\n            for (var _key in _this8.events) {\n              if (_this8.events.hasOwnProperty(_key)) {\n                _this8.events[_key].destroy();\n              }\n            }\n            _this8.events = null;\n          }\n          var body = document.body;\n          removeClass(html, 'glightbox-open');\n          removeClass(body, 'glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer');\n          _this8.modal.parentNode.removeChild(_this8.modal);\n          _this8.trigger('close');\n          if (isFunction(_this8.settings.onClose)) {\n            _this8.settings.onClose();\n          }\n          var styles = document.querySelector('.gcss-styles');\n          if (styles) {\n            styles.parentNode.removeChild(styles);\n          }\n          _this8.lightboxOpen = false;\n          _this8.closing = null;\n        });\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.close();\n        this.clearAllEvents();\n        if (this.baseEvents) {\n          this.baseEvents.destroy();\n        }\n      }\n    }, {\n      key: \"on\",\n      value: function on(evt, callback) {\n        var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        if (!evt || !isFunction(callback)) {\n          throw new TypeError('Event name and callback must be defined');\n        }\n        this.apiEvents.push({\n          evt: evt,\n          once: once,\n          callback: callback\n        });\n      }\n    }, {\n      key: \"once\",\n      value: function once(evt, callback) {\n        this.on(evt, callback, true);\n      }\n    }, {\n      key: \"trigger\",\n      value: function trigger(eventName) {\n        var _this9 = this;\n        var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var onceTriggered = [];\n        each(this.apiEvents, function (event, i) {\n          var evt = event.evt,\n            once = event.once,\n            callback = event.callback;\n          if (evt == eventName) {\n            callback(data);\n            if (once) {\n              onceTriggered.push(i);\n            }\n          }\n        });\n        if (onceTriggered.length) {\n          each(onceTriggered, function (i) {\n            return _this9.apiEvents.splice(i, 1);\n          });\n        }\n      }\n    }, {\n      key: \"clearAllEvents\",\n      value: function clearAllEvents() {\n        this.apiEvents.splice(0, this.apiEvents.length);\n      }\n    }, {\n      key: \"version\",\n      value: function version() {\n        return _version;\n      }\n    }]);\n  }();\n  function glightbox () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var instance = new GlightboxInit(options);\n    instance.init();\n    return instance;\n  }\n\n  return glightbox;\n\n})));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}